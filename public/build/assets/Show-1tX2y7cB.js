import{M as Y,_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-CyoQlVBv.js";import{e as C,C as ee,U}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B5BWniUE.js";import{_ as w}from"./createLucideIcon-C3Ab61m5.js";import{_ as v,a as g,b as x,c as b,F as N}from"./index-Cmp74z6d.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-CiKhemwU.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-CNdlZ2bU.js";import{_ as te,a as ae,b as D,c as y,d as oe,e as p}from"./TableHeader.vue_vue_type_script_setup_true_lang-4AxO5XkK.js";import{d as se,c as $,a as m,o as d,b as a,u as e,m as re,e as o,f as s,j as _,i as k,W as h,g as n,t as i,n as F,l as z,F as S,r as j}from"./app-7LlKm78u.js";import{A as ne}from"./arrow-left-Mds2BBut.js";import{S as A}from"./square-pen-avcIrZfD.js";import{T as le}from"./trash-2-dZG6teqx.js";import{I as ie}from"./info-B4vufzNu.js";import{U as de}from"./user-DvDj7gu6.js";import{E as ue}from"./eye-mFpk8ekn.js";import{C as M}from"./clock-BnjXW5pn.js";import{C as G}from"./circle-check-big-Dd3mSF0w.js";import{C as ce}from"./circle-x-CJJiMBFh.js";import{S as fe}from"./send-a000i2nn.js";import"./index-BLTdg2QY.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Cne8tvjX.js";import"./VisuallyHidden-BQiVCHMw.js";const me={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},pe={class:"space-y-6"},_e={class:"flex items-center justify-between"},ve={class:"space-y-1"},ge={class:"flex items-center gap-2"},xe={class:"text-3xl font-bold tracking-tight"},be={class:"flex items-center gap-2 mt-2"},ye={class:"flex gap-2"},Ce={class:"grid gap-6 md:grid-cols-2"},we={class:"font-medium"},$e={class:"font-medium"},ke={class:"font-medium"},he={class:"font-medium"},Ee={class:"font-medium"},Ne={class:"font-medium"},De={class:"font-medium"},Fe={class:"font-medium"},Se={class:"font-medium"},Ae={class:"font-medium"},Pe={class:"font-medium"},Te={class:"font-medium"},Be={class:"font-medium"},Ve={class:"space-y-4"},Ie={class:"flex items-center justify-between"},Le={class:"font-medium"},Ue={class:"text-sm text-muted-foreground"},qe={key:0,class:"text-sm text-red-600"},ze={class:"rounded-md border"},je={class:"font-medium"},Me={class:"text-sm text-muted-foreground"},Ge={class:"text-sm"},Re={class:"text-xs text-muted-foreground"},We={key:1,class:"text-sm text-muted-foreground"},Xe={key:0},He={class:"text-sm font-medium"},Je={class:"text-xs text-muted-foreground"},Ke={key:1,class:"text-sm text-muted-foreground"},gt=se({__name:"Show",props:{convocatoria:{},postulaciones:{}},setup(R){const f=R,W=[{title:"Admin",href:"/admin/dashboard"},{title:"Convocatorias",href:"/admin/convocatorias"},{title:f.convocatoria.nombre,href:`/admin/convocatorias/${f.convocatoria.id}`}],X=r=>{switch(r){case"borrador":return A;case"activa":return G;case"cerrada":return M;default:return N}},H=r=>{switch(r){case"borrador":return A;case"enviada":return fe;case"en_revision":return M;case"aceptada":return G;case"rechazada":return ce;default:return N}},J=r=>{switch(r){case"borrador":return"bg-gray-100 text-gray-800";case"activa":return"bg-green-100 text-green-800";case"cerrada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=r=>{switch(r){case"borrador":return"Borrador";case"activa":return"Activa";case"cerrada":return"Cerrada";default:return r}},E=r=>r?new Date(r).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"No definida",T=$(()=>{const r=new Date,t=new Date(f.convocatoria.fecha_apertura),l=new Date(f.convocatoria.fecha_cierre);return r>=t&&r<=l&&f.convocatoria.estado==="activa"}),B=$(()=>{const r=new Date,t=new Date(f.convocatoria.fecha_apertura);return r<t}),V=$(()=>T.value?"Abierta":B.value?"Futura":"Cerrada"),K=$(()=>T.value?"bg-green-100 text-green-800":B.value?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),O=()=>{h.get(`/admin/convocatorias/${f.convocatoria.id}/edit`)},Q=()=>{confirm("¿Estás seguro de que deseas eliminar esta convocatoria?")&&h.delete(`/admin/convocatorias/${f.convocatoria.id}`)};return(r,t)=>(d(),m(S,null,[a(e(re),{title:`Convocatoria: ${r.convocatoria.nombre}`},null,8,["title"]),a(Z,{breadcrumbs:W},{default:o(()=>[s("div",me,[s("div",pe,[s("div",_e,[s("div",ve,[s("div",ge,[a(e(w),{variant:"ghost",size:"sm",onClick:t[0]||(t[0]=l=>e(h).get("/admin/convocatorias"))},{default:o(()=>[a(e(ne),{class:"h-4 w-4 mr-2"}),t[1]||(t[1]=n(" Volver "))]),_:1})]),s("h1",xe,i(r.convocatoria.nombre),1),s("div",be,[a(e(C),{class:F([J(r.convocatoria.estado),"text-sm px-2 py-1"])},{default:o(()=>[(d(),_(z(X(r.convocatoria.estado)),{class:"mr-1 h-3 w-3"})),n(" "+i(P(r.convocatoria.estado)),1)]),_:1},8,["class"]),a(e(C),{class:F([K.value,"text-sm px-2 py-1"])},{default:o(()=>[n(i(V.value),1)]),_:1},8,["class"]),r.convocatoria.activo?k("",!0):(d(),_(e(C),{key:0,variant:"secondary",class:"text-sm px-2 py-1"},{default:o(()=>t[2]||(t[2]=[n(" Inactiva ")])),_:1}))])]),s("div",ye,[a(e(w),{onClick:O,variant:"outline"},{default:o(()=>[a(e(A),{class:"h-4 w-4 mr-2"}),t[3]||(t[3]=n(" Editar "))]),_:1}),a(e(w),{onClick:Q,variant:"destructive"},{default:o(()=>[a(e(le),{class:"h-4 w-4 mr-2"}),t[4]||(t[4]=n(" Eliminar "))]),_:1})])]),s("div",Ce,[a(e(v),null,{default:o(()=>[a(e(g),null,{default:o(()=>[a(e(x),{class:"flex items-center gap-2"},{default:o(()=>[a(e(ie),{class:"h-5 w-5"}),t[5]||(t[5]=n(" Información General "))]),_:1})]),_:1}),a(e(b),{class:"space-y-4"},{default:o(()=>[s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[6]||(t[6]=[n("Descripción:")])),_:1}),s("p",we,i(r.convocatoria.descripcion||"Sin descripción"),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[7]||(t[7]=[n("Estado:")])),_:1}),s("p",$e,i(P(r.convocatoria.estado)),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[8]||(t[8]=[n("Activo:")])),_:1}),s("p",ke,i(r.convocatoria.activo?"Sí":"No"),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[9]||(t[9]=[n("Creado:")])),_:1}),s("p",he,i(E(r.convocatoria.created_at)),1)])]),_:1})]),_:1}),a(e(v),null,{default:o(()=>[a(e(g),null,{default:o(()=>[a(e(x),{class:"flex items-center gap-2"},{default:o(()=>[a(e(ee),{class:"h-5 w-5"}),t[10]||(t[10]=n(" Fechas "))]),_:1})]),_:1}),a(e(b),{class:"space-y-4"},{default:o(()=>[s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[11]||(t[11]=[n("Fecha de Apertura:")])),_:1}),s("p",Ee,i(E(r.convocatoria.fecha_apertura)),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[12]||(t[12]=[n("Fecha de Cierre:")])),_:1}),s("p",Ne,i(E(r.convocatoria.fecha_cierre)),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[13]||(t[13]=[n("Estado Temporal:")])),_:1}),s("p",De,i(V.value),1)])]),_:1})]),_:1}),a(e(v),null,{default:o(()=>[a(e(g),null,{default:o(()=>[a(e(x),{class:"flex items-center gap-2"},{default:o(()=>[a(e(U),{class:"h-5 w-5"}),t[14]||(t[14]=n(" Cargo y Periodo Electoral "))]),_:1})]),_:1}),a(e(b),{class:"space-y-4"},{default:o(()=>{var l,c;return[s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[15]||(t[15]=[n("Cargo:")])),_:1}),s("p",Fe,i(((l=r.convocatoria.cargo)==null?void 0:l.nombre)||"No asignado"),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[16]||(t[16]=[n("Periodo Electoral:")])),_:1}),s("p",Se,i(((c=r.convocatoria.periodoElectoral)==null?void 0:c.nombre)||"No asignado"),1)])]}),_:1})]),_:1}),a(e(v),null,{default:o(()=>[a(e(g),null,{default:o(()=>[a(e(x),{class:"flex items-center gap-2"},{default:o(()=>[a(e(Y),{class:"h-5 w-5"}),t[17]||(t[17]=n(" Ubicación Geográfica "))]),_:1})]),_:1}),a(e(b),{class:"space-y-4"},{default:o(()=>{var l,c,I,L;return[s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[18]||(t[18]=[n("Territorio:")])),_:1}),s("p",Ae,i(((l=r.convocatoria.territorio)==null?void 0:l.nombre)||"No especificado"),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[19]||(t[19]=[n("Departamento:")])),_:1}),s("p",Pe,i(((c=r.convocatoria.departamento)==null?void 0:c.nombre)||"No especificado"),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[20]||(t[20]=[n("Municipio:")])),_:1}),s("p",Te,i(((I=r.convocatoria.municipio)==null?void 0:I.nombre)||"No especificado"),1)]),s("div",null,[a(e(u),{class:"text-muted-foreground"},{default:o(()=>t[21]||(t[21]=[n("Localidad:")])),_:1}),s("p",Be,i(((L=r.convocatoria.localidad)==null?void 0:L.nombre)||"No especificado"),1)])]}),_:1})]),_:1})]),r.convocatoria.formulario_postulacion&&r.convocatoria.formulario_postulacion.length>0?(d(),_(e(v),{key:0},{default:o(()=>[a(e(g),null,{default:o(()=>[a(e(x),{class:"flex items-center gap-2"},{default:o(()=>[a(e(N),{class:"h-5 w-5"}),t[22]||(t[22]=n(" Formulario de Postulación "))]),_:1}),a(e(q),null,{default:o(()=>t[23]||(t[23]=[n(" Campos configurados para el formulario de postulación de esta convocatoria. ")])),_:1})]),_:1}),a(e(b),null,{default:o(()=>[s("div",Ve,[(d(!0),m(S,null,j(r.convocatoria.formulario_postulacion,(l,c)=>(d(),m("div",{key:c,class:"border rounded-lg p-4"},[s("div",Ie,[s("div",null,[s("p",Le,i(l.title||l.label||`Campo ${c+1}`),1),s("p",Ue,"Tipo: "+i(l.type||"No especificado"),1),l.required?(d(),m("p",qe,"Requerido")):k("",!0)])])]))),128))])]),_:1})]),_:1})):k("",!0),a(e(v),null,{default:o(()=>[a(e(g),null,{default:o(()=>[a(e(x),{class:"flex items-center gap-2"},{default:o(()=>[a(e(U),{class:"h-5 w-5"}),t[24]||(t[24]=n(" Postulaciones "))]),_:1}),a(e(q),null,{default:o(()=>t[25]||(t[25]=[n(" Lista de postulaciones recibidas para esta convocatoria. ")])),_:1})]),_:1}),a(e(b),null,{default:o(()=>[s("div",ze,[a(e(te),null,{default:o(()=>[a(e(ae),null,{default:o(()=>[a(e(D),null,{default:o(()=>[a(e(y),null,{default:o(()=>t[26]||(t[26]=[n("Usuario")])),_:1}),a(e(y),null,{default:o(()=>t[27]||(t[27]=[n("Estado")])),_:1}),a(e(y),null,{default:o(()=>t[28]||(t[28]=[n("Fecha Postulación")])),_:1}),a(e(y),null,{default:o(()=>t[29]||(t[29]=[n("Perfil")])),_:1}),a(e(y),null,{default:o(()=>t[30]||(t[30]=[n("Revisado por")])),_:1}),a(e(y),{class:"text-right"},{default:o(()=>t[31]||(t[31]=[n("Acciones")])),_:1})]),_:1})]),_:1}),a(e(oe),null,{default:o(()=>[!r.postulaciones||r.postulaciones.length===0?(d(),_(e(D),{key:0},{default:o(()=>[a(e(p),{colspan:"6",class:"text-center text-muted-foreground py-8"},{default:o(()=>t[32]||(t[32]=[n(" No hay postulaciones para esta convocatoria. ")])),_:1})]),_:1})):k("",!0),(d(!0),m(S,null,j(r.postulaciones,l=>(d(),_(e(D),{key:l.id},{default:o(()=>[a(e(p),null,{default:o(()=>[s("div",null,[s("p",je,i(l.usuario.name),1),s("p",Me,i(l.usuario.email),1)])]),_:2},1024),a(e(p),null,{default:o(()=>[a(e(C),{class:F(l.estado_color)},{default:o(()=>[(d(),_(z(H(l.estado)),{class:"mr-1 h-3 w-3"})),n(" "+i(l.estado_label),1)]),_:2},1032,["class"])]),_:2},1024),a(e(p),null,{default:o(()=>[s("p",Ge,i(l.fecha_postulacion||"Borrador"),1),s("p",Re,i(l.created_at),1)]),_:2},1024),a(e(p),null,{default:o(()=>[l.tiene_candidatura_vinculada?(d(),_(e(C),{key:0,variant:"secondary",class:"bg-green-100 text-green-800"},{default:o(()=>[a(e(de),{class:"mr-1 h-3 w-3"}),t[33]||(t[33]=n(" Vinculado "))]),_:1})):(d(),m("span",We,"No vinculado"))]),_:2},1024),a(e(p),null,{default:o(()=>[l.revisado_por?(d(),m("div",Xe,[s("p",He,i(l.revisado_por.name),1),s("p",Je,i(l.fecha_revision),1)])):(d(),m("span",Ke,"Sin revisar"))]),_:2},1024),a(e(p),{class:"text-right"},{default:o(()=>[a(e(w),{variant:"outline",size:"sm",onClick:c=>e(h).get(`/admin/postulaciones/${l.id}`)},{default:o(()=>[a(e(ue),{class:"mr-2 h-4 w-4"}),t[34]||(t[34]=n(" Ver detalle "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})])])]),_:1})],64))}});export{gt as default};
