import{d as N,C as A,a as p,o as u,b as t,u as e,m as F,e as o,f as l,P as U,g as n,h as O,i as g,t as m,F as x,r as S,j as k}from"./app-DaeX7cdw.js";import{_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-DGUFgy7V.js";import{_ as v}from"./createLucideIcon-CjSnWMAs.js";import{_ as c,a as b,b as y,c as V}from"./index-11KoE7K9.js";import{_ as $}from"./CardDescription.vue_vue_type_script_setup_true_lang-D2c5TVWn.js";import{_ as r,a as d}from"./Label.vue_vue_type_script_setup_true_lang-CMHm9R99.js";import{_ as w,a as L,b as M,c as P,d as T}from"./DialogTitle.vue_vue_type_script_setup_true_lang-D_nilgK0.js";import{_ as E}from"./Switch.vue_vue_type_script_setup_true_lang--zaGdFmE.js";import{_ as G,a as I,b as z,c as C}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-D23NyGV_.js";import{A as R}from"./arrow-left-CrKxkQJn.js";import{S as Z}from"./save-DZF9BgZ1.js";import"./index-D0dABG5H.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Cwg8ppLD.js";import"./VisuallyHidden-Dq3uFg-l.js";import"./VisuallyHiddenInput-B3mveJf9.js";import"./RovingFocusItem-DEx9p9eK.js";const H={class:"flex h-full flex-1 flex-col gap-4 p-4"},J={class:"flex items-center justify-between"},K={class:"grid gap-4 md:grid-cols-2"},Q={class:"space-y-2"},W={key:0,class:"text-sm text-red-500"},X={class:"space-y-2"},Y={class:"flex"},h={key:0,class:"text-sm text-red-500"},ee={class:"space-y-2"},se={key:0,class:"text-sm text-red-500"},te={class:"space-y-2"},oe={class:"flex items-center space-x-2"},ae={class:"grid gap-4 md:grid-cols-2"},le={class:"space-y-2"},ie={class:"space-y-2"},ne={class:"flex gap-2"},re={class:"space-y-2"},de={class:"space-y-2"},ue={class:"grid gap-4 md:grid-cols-3"},me={class:"space-y-2"},pe={class:"space-y-2"},fe={class:"space-y-2"},_e={class:"mt-6 flex justify-end gap-4"},Te=N({__name:"Create",props:{subscriptionPlans:{},timezones:{}},setup(ge){const j=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Tenants",href:"/admin/tenants"},{title:"Crear Tenant",href:"#"}],a=A({name:"",subdomain:"",subscription_plan:"basic",active:!0,settings:{logo:"",primary_color:"#3B82F6",otp_expiration:10,timezone:"America/Bogota"},limits:{max_users:null,max_votaciones:null,max_convocatorias:null}}),B=()=>{a.post("/admin/tenants",{preserveScroll:!0})},D=()=>{a.name&&!a.subdomain&&(a.subdomain=a.name.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};return(_,s)=>(u(),p(x,null,[t(e(F),{title:"Crear Tenant"}),t(q,{breadcrumbs:j},{default:o(()=>[l("div",H,[l("div",J,[s[13]||(s[13]=l("div",null,[l("h2",{class:"text-3xl font-bold tracking-tight"},"Crear Nuevo Tenant"),l("p",{class:"text-muted-foreground"}," Configura una nueva organización en el sistema ")],-1)),t(e(U),{href:_.route("admin.tenants.index")},{default:o(()=>[t(e(v),{variant:"outline"},{default:o(()=>[t(e(R),{class:"mr-2 h-4 w-4"}),s[12]||(s[12]=n(" Volver "))]),_:1})]),_:1},8,["href"])]),l("form",{onSubmit:O(B,["prevent"])},[t(e(G),{"default-value":"general",class:"w-full"},{default:o(()=>[t(e(I),{class:"grid w-full grid-cols-3"},{default:o(()=>[t(e(z),{value:"general"},{default:o(()=>s[14]||(s[14]=[n("Información General")])),_:1}),t(e(z),{value:"settings"},{default:o(()=>s[15]||(s[15]=[n("Configuración")])),_:1}),t(e(z),{value:"limits"},{default:o(()=>s[16]||(s[16]=[n("Límites y Cuotas")])),_:1})]),_:1}),t(e(C),{value:"general"},{default:o(()=>[t(e(c),null,{default:o(()=>[t(e(b),null,{default:o(()=>[t(e(y),null,{default:o(()=>s[17]||(s[17]=[n("Información General")])),_:1}),t(e($),null,{default:o(()=>s[18]||(s[18]=[n(" Datos básicos de la organización ")])),_:1})]),_:1}),t(e(V),{class:"space-y-4"},{default:o(()=>[l("div",K,[l("div",Q,[t(e(r),{for:"name"},{default:o(()=>s[19]||(s[19]=[n("Nombre de la Organización *")])),_:1}),t(e(d),{id:"name",modelValue:e(a).name,"onUpdate:modelValue":s[0]||(s[0]=i=>e(a).name=i),onBlur:D,placeholder:"Mi Organización",required:""},null,8,["modelValue"]),e(a).errors.name?(u(),p("p",W,m(e(a).errors.name),1)):g("",!0)]),l("div",X,[t(e(r),{for:"subdomain"},{default:o(()=>s[20]||(s[20]=[n("Subdominio *")])),_:1}),l("div",Y,[t(e(d),{id:"subdomain",modelValue:e(a).subdomain,"onUpdate:modelValue":s[1]||(s[1]=i=>e(a).subdomain=i),placeholder:"mi-organizacion",pattern:"[a-z0-9-]+",required:"",class:"rounded-r-none"},null,8,["modelValue"]),s[21]||(s[21]=l("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-input bg-muted px-3 text-sm text-muted-foreground"}," .votaciones.test ",-1))]),s[22]||(s[22]=l("p",{class:"text-xs text-muted-foreground"}," Solo letras minúsculas, números y guiones ",-1)),e(a).errors.subdomain?(u(),p("p",h,m(e(a).errors.subdomain),1)):g("",!0)]),l("div",ee,[t(e(r),{for:"subscription_plan"},{default:o(()=>s[23]||(s[23]=[n("Plan de Suscripción *")])),_:1}),t(e(w),{modelValue:e(a).subscription_plan,"onUpdate:modelValue":s[2]||(s[2]=i=>e(a).subscription_plan=i)},{default:o(()=>[t(e(L),{id:"subscription_plan"},{default:o(()=>[t(e(M))]),_:1}),t(e(P),null,{default:o(()=>[(u(!0),p(x,null,S(_.subscriptionPlans,(i,f)=>(u(),k(e(T),{key:f,value:f},{default:o(()=>[n(m(i),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a).errors.subscription_plan?(u(),p("p",se,m(e(a).errors.subscription_plan),1)):g("",!0)]),l("div",te,[t(e(r),{for:"active"},{default:o(()=>s[24]||(s[24]=[n("Estado")])),_:1}),l("div",oe,[t(e(E),{id:"active",checked:e(a).active,"onUpdate:checked":s[3]||(s[3]=i=>e(a).active=i)},null,8,["checked"]),t(e(r),{for:"active",class:"font-normal"},{default:o(()=>[n(m(e(a).active?"Activo":"Inactivo"),1)]),_:1})]),s[25]||(s[25]=l("p",{class:"text-xs text-muted-foreground"}," Los tenants inactivos no pueden acceder al sistema ",-1))])])]),_:1})]),_:1})]),_:1}),t(e(C),{value:"settings"},{default:o(()=>[t(e(c),null,{default:o(()=>[t(e(b),null,{default:o(()=>[t(e(y),null,{default:o(()=>s[26]||(s[26]=[n("Configuración del Sistema")])),_:1}),t(e($),null,{default:o(()=>s[27]||(s[27]=[n(" Personalización y configuraciones específicas ")])),_:1})]),_:1}),t(e(V),{class:"space-y-4"},{default:o(()=>[l("div",ae,[l("div",le,[t(e(r),{for:"logo"},{default:o(()=>s[28]||(s[28]=[n("URL del Logo")])),_:1}),t(e(d),{id:"logo",modelValue:e(a).settings.logo,"onUpdate:modelValue":s[4]||(s[4]=i=>e(a).settings.logo=i),placeholder:"https://ejemplo.com/logo.png",type:"url"},null,8,["modelValue"]),s[29]||(s[29]=l("p",{class:"text-xs text-muted-foreground"}," URL de la imagen del logo de la organización ",-1))]),l("div",ie,[t(e(r),{for:"primary_color"},{default:o(()=>s[30]||(s[30]=[n("Color Primario")])),_:1}),l("div",ne,[t(e(d),{id:"primary_color",modelValue:e(a).settings.primary_color,"onUpdate:modelValue":s[5]||(s[5]=i=>e(a).settings.primary_color=i),placeholder:"#3B82F6",pattern:"#[0-9A-Fa-f]{6}"},null,8,["modelValue"]),t(e(d),{type:"color",modelValue:e(a).settings.primary_color,"onUpdate:modelValue":s[6]||(s[6]=i=>e(a).settings.primary_color=i),class:"w-12 p-1"},null,8,["modelValue"])]),s[31]||(s[31]=l("p",{class:"text-xs text-muted-foreground"}," Color principal de la interfaz ",-1))]),l("div",re,[t(e(r),{for:"otp_expiration"},{default:o(()=>s[32]||(s[32]=[n("Expiración OTP (minutos)")])),_:1}),t(e(d),{id:"otp_expiration",modelValue:e(a).settings.otp_expiration,"onUpdate:modelValue":s[7]||(s[7]=i=>e(a).settings.otp_expiration=i),modelModifiers:{number:!0},type:"number",min:"5",max:"60",placeholder:"10"},null,8,["modelValue"]),s[33]||(s[33]=l("p",{class:"text-xs text-muted-foreground"}," Tiempo de validez del código OTP (5-60 minutos) ",-1))]),l("div",de,[t(e(r),{for:"timezone"},{default:o(()=>s[34]||(s[34]=[n("Zona Horaria")])),_:1}),t(e(w),{modelValue:e(a).settings.timezone,"onUpdate:modelValue":s[8]||(s[8]=i=>e(a).settings.timezone=i)},{default:o(()=>[t(e(L),{id:"timezone"},{default:o(()=>[t(e(M))]),_:1}),t(e(P),null,{default:o(()=>[(u(!0),p(x,null,S(_.timezones,(i,f)=>(u(),k(e(T),{key:f,value:f},{default:o(()=>[n(m(i),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),s[35]||(s[35]=l("p",{class:"text-xs text-muted-foreground"}," Zona horaria por defecto para votaciones ",-1))])])]),_:1})]),_:1})]),_:1}),t(e(C),{value:"limits"},{default:o(()=>[t(e(c),null,{default:o(()=>[t(e(b),null,{default:o(()=>[t(e(y),null,{default:o(()=>s[36]||(s[36]=[n("Límites y Cuotas")])),_:1}),t(e($),null,{default:o(()=>s[37]||(s[37]=[n(" Define los límites de recursos para esta organización ")])),_:1})]),_:1}),t(e(V),{class:"space-y-4"},{default:o(()=>[l("div",ue,[l("div",me,[t(e(r),{for:"max_users"},{default:o(()=>s[38]||(s[38]=[n("Usuarios Máximos")])),_:1}),t(e(d),{id:"max_users",modelValue:e(a).limits.max_users,"onUpdate:modelValue":s[9]||(s[9]=i=>e(a).limits.max_users=i),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),s[39]||(s[39]=l("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),l("div",pe,[t(e(r),{for:"max_votaciones"},{default:o(()=>s[40]||(s[40]=[n("Votaciones Máximas")])),_:1}),t(e(d),{id:"max_votaciones",modelValue:e(a).limits.max_votaciones,"onUpdate:modelValue":s[10]||(s[10]=i=>e(a).limits.max_votaciones=i),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),s[41]||(s[41]=l("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),l("div",fe,[t(e(r),{for:"max_convocatorias"},{default:o(()=>s[42]||(s[42]=[n("Convocatorias Máximas")])),_:1}),t(e(d),{id:"max_convocatorias",modelValue:e(a).limits.max_convocatorias,"onUpdate:modelValue":s[11]||(s[11]=i=>e(a).limits.max_convocatorias=i),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),s[43]||(s[43]=l("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))])]),s[44]||(s[44]=l("div",{class:"rounded-lg bg-muted p-4"},[l("p",{class:"text-sm text-muted-foreground"},[l("strong",null,"Nota:"),n(" Los límites se aplican según el plan de suscripción. Un valor vacío significa que no hay límite establecido para ese recurso. ")])],-1))]),_:1})]),_:1})]),_:1})]),_:1}),l("div",_e,[t(e(U),{href:_.route("admin.tenants.index")},{default:o(()=>[t(e(v),{type:"button",variant:"outline"},{default:o(()=>s[45]||(s[45]=[n(" Cancelar ")])),_:1})]),_:1},8,["href"]),t(e(v),{type:"submit",disabled:e(a).processing},{default:o(()=>[t(e(Z),{class:"mr-2 h-4 w-4"}),n(" "+m(e(a).processing?"Guardando...":"Crear Tenant"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Te as default};
