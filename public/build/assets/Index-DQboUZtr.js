import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-DTYZkdXV.js";import{d as j,a as n,o as l,b as s,u as e,m as E,e as i,f as a,i as c,P as f,g as m,F as _,r as b,j as p,t as d,n as x,W as g}from"./app-Bb-Y6LhL.js";import{_ as u}from"./createLucideIcon-BvZ_hvef.js";import{F as z,_ as P,a as D,b as L,c as M}from"./index-d0hLCKZ5.js";import{_ as N}from"./CardDescription.vue_vue_type_script_setup_true_lang-BVdVxGnh.js";import{e as h}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BJmCMDA5.js";import{P as v}from"./plus-CifEDcVu.js";import{E as S}from"./eye-BWZ8xxBI.js";import{S as V}from"./square-pen-DgXdlaVv.js";import{C as A}from"./copy-Bf9ggawE.js";import{D as B}from"./download-Ce72Hv22.js";import{T as H}from"./trash-2-Cn2t1uX8.js";import"./Label.vue_vue_type_script_setup_true_lang-DWSITdM-.js";import"./index-DWJW35C-.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-8zVYKdCX.js";import"./VisuallyHidden-L7TC28di.js";const G={class:"p-6"},W={class:"mb-6 flex items-center justify-between"},q={key:0,class:"text-center py-12"},I={class:"mt-6"},R={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},J={class:"flex items-start justify-between"},K={class:"flex-1"},O={class:"space-y-2 text-sm"},Q={class:"flex items-center justify-between"},U={class:"flex items-center justify-between"},X={class:"font-medium"},Y={key:0,class:"flex items-center justify-between"},Z={class:"flex items-center justify-between"},ee={class:"text-xs bg-gray-100 px-1 py-0.5 rounded"},te={class:"mt-4 flex gap-2"},se={key:2,class:"mt-6"},ae={class:"flex items-center justify-center gap-1"},re=["innerHTML"],we=j({__name:"Index",props:{formularios:{},categorias:{},filters:{},filterFieldsConfig:{}},setup(oe){const w=[{title:"Dashboard",href:"/dashboard"},{title:"Admin",href:"/admin/dashboard"},{title:"Formularios",href:"#"}],C=o=>{confirm("¿Estás seguro de eliminar este formulario?")&&g.delete(route("admin.formularios.destroy",o))},k=o=>{confirm("¿Deseas duplicar este formulario? Se creará una copia como borrador.")&&g.post(route("admin.formularios.duplicate",o))},F=o=>({gray:"bg-gray-100 text-gray-800",slate:"bg-slate-100 text-slate-800",red:"bg-red-100 text-red-800",blue:"bg-blue-100 text-blue-800",orange:"bg-orange-100 text-orange-800",yellow:"bg-yellow-100 text-yellow-800",green:"bg-green-100 text-green-800"})[o]||"bg-gray-100 text-gray-800",$=o=>({publico:"Público",autenticado:"Autenticado",con_permiso:"Con Permiso"})[o]||o;return(o,r)=>(l(),n(_,null,[s(e(E),{title:"Gestión de Formularios"}),s(T,{breadcrumbs:w},{default:i(()=>[a("div",G,[a("div",W,[r[1]||(r[1]=a("div",null,[a("h1",{class:"text-3xl font-bold"},"Gestión de Formularios"),a("p",{class:"text-muted-foreground"}," Administra los formularios dinámicos del sistema ")],-1)),s(e(f),{href:o.route("admin.formularios.create")},{default:i(()=>[s(e(u),null,{default:i(()=>[s(e(v),{class:"mr-2 h-4 w-4"}),r[0]||(r[0]=m(" Nuevo Formulario "))]),_:1})]),_:1},8,["href"])]),o.formularios.data.length===0?(l(),n("div",q,[s(e(z),{class:"mx-auto h-12 w-12 text-gray-400"}),r[3]||(r[3]=a("h3",{class:"mt-2 text-lg font-medium text-gray-900"},"No hay formularios",-1)),r[4]||(r[4]=a("p",{class:"mt-1 text-sm text-gray-500"},"Comienza creando un nuevo formulario.",-1)),a("div",I,[s(e(f),{href:o.route("admin.formularios.create")},{default:i(()=>[s(e(u),null,{default:i(()=>[s(e(v),{class:"mr-2 h-4 w-4"}),r[2]||(r[2]=m(" Crear primer formulario "))]),_:1})]),_:1},8,["href"])])])):(l(),n("div",R,[(l(!0),n(_,null,b(o.formularios.data,t=>(l(),p(e(P),{key:t.id},{default:i(()=>[s(e(D),null,{default:i(()=>[a("div",J,[a("div",K,[s(e(L),{class:"text-lg"},{default:i(()=>[m(d(t.titulo),1)]),_:2},1024),t.descripcion?(l(),p(e(N),{key:0,class:"mt-1"},{default:i(()=>[m(d(t.descripcion),1)]),_:2},1024)):c("",!0)]),s(e(h),{class:x(F(t.estado_temporal_color))},{default:i(()=>[m(d(t.estado_temporal_label),1)]),_:2},1032,["class"])])]),_:2},1024),s(e(M),null,{default:i(()=>[a("div",O,[a("div",Q,[r[5]||(r[5]=a("span",{class:"text-muted-foreground"},"Tipo de acceso:",-1)),s(e(h),{variant:"outline"},{default:i(()=>[m(d($(t.tipo_acceso)),1)]),_:2},1024)]),a("div",U,[r[6]||(r[6]=a("span",{class:"text-muted-foreground"},"Respuestas:",-1)),a("span",X,d(t.estadisticas.total_respuestas),1)]),t.categoria?(l(),n("div",Y,[r[7]||(r[7]=a("span",{class:"text-muted-foreground"},"Categoría:",-1)),a("span",null,d(t.categoria.nombre),1)])):c("",!0),a("div",Z,[r[8]||(r[8]=a("span",{class:"text-muted-foreground"},"Slug:",-1)),a("code",ee,d(t.slug),1)])]),a("div",te,[s(e(f),{href:o.route("admin.formularios.show",t.id)},{default:i(()=>[s(e(u),{variant:"outline",size:"sm",title:"Ver formulario"},{default:i(()=>[s(e(S),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),s(e(f),{href:o.route("admin.formularios.edit",t.id)},{default:i(()=>[s(e(u),{variant:"outline",size:"sm",title:"Editar formulario"},{default:i(()=>[s(e(V),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),s(e(u),{variant:"outline",size:"sm",title:"Duplicar formulario",onClick:y=>k(t.id)},{default:i(()=>[s(e(A),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),t.estadisticas.total_respuestas>0?(l(),p(e(u),{key:0,variant:"outline",size:"sm",title:"Exportar respuestas",onClick:y=>e(g).visit(o.route("admin.formularios.exportar",t.id))},{default:i(()=>[s(e(B),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):c("",!0),t.estadisticas.total_respuestas===0?(l(),p(e(u),{key:1,variant:"outline",size:"sm",title:"Eliminar formulario",onClick:y=>C(t.id)},{default:i(()=>[s(e(H),{class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])):c("",!0)])]),_:2},1024)]),_:2},1024))),128))])),o.formularios.links&&o.formularios.links.length>3?(l(),n("div",se,[a("nav",ae,[(l(!0),n(_,null,b(o.formularios.links,t=>(l(),n(_,{key:t.label},[t.url?(l(),p(e(f),{key:0,href:t.url,class:x(["px-3 py-2 text-sm rounded-md",t.active?"bg-primary text-primary-foreground":"bg-white hover:bg-gray-50 border"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(l(),n("span",{key:1,class:"px-3 py-2 text-sm text-gray-400",innerHTML:t.label},null,8,re))],64))),128))])])):c("",!0)])]),_:1})],64))}});export{we as default};
