import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-CyoQlVBv.js";import{d as $,a as n,o as l,b as a,u as e,m as j,e as o,f as t,i as c,P as f,g as m,F as _,r as g,j as p,t as d,n as y,W as b}from"./app-7LlKm78u.js";import{_ as u}from"./createLucideIcon-C3Ab61m5.js";import{F as P,_ as z,a as L,b as M,c as N}from"./index-Cmp74z6d.js";import{_ as E}from"./CardDescription.vue_vue_type_script_setup_true_lang-CiKhemwU.js";import{e as x}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B5BWniUE.js";import{P as h}from"./plus-BFVd6v3P.js";import{E as A}from"./eye-mFpk8ekn.js";import{S as B}from"./square-pen-avcIrZfD.js";import{D}from"./download-46esRMv0.js";import{T as H}from"./trash-2-dZG6teqx.js";import"./Label.vue_vue_type_script_setup_true_lang-CNdlZ2bU.js";import"./index-BLTdg2QY.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Cne8tvjX.js";import"./VisuallyHidden-BQiVCHMw.js";const S={class:"p-6"},V={class:"mb-6 flex items-center justify-between"},G={key:0,class:"text-center py-12"},W={class:"mt-6"},q={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},I={class:"flex items-start justify-between"},R={class:"flex-1"},J={class:"space-y-2 text-sm"},K={class:"flex items-center justify-between"},O={class:"flex items-center justify-between"},Q={class:"font-medium"},U={key:0,class:"flex items-center justify-between"},X={class:"flex items-center justify-between"},Y={class:"text-xs bg-gray-100 px-1 py-0.5 rounded"},Z={class:"mt-4 flex gap-2"},ee={key:2,class:"mt-6"},se={class:"flex items-center justify-center gap-1"},te=["innerHTML"],xe=$({__name:"Index",props:{formularios:{},categorias:{},filters:{},filterFieldsConfig:{}},setup(ae){const v=[{title:"Dashboard",href:"/dashboard"},{title:"Admin",href:"/admin/dashboard"},{title:"Formularios",href:"#"}],w=i=>{confirm("¿Estás seguro de eliminar este formulario?")&&b.delete(route("admin.formularios.destroy",i))},k=i=>({gray:"bg-gray-100 text-gray-800",slate:"bg-slate-100 text-slate-800",red:"bg-red-100 text-red-800",blue:"bg-blue-100 text-blue-800",orange:"bg-orange-100 text-orange-800",yellow:"bg-yellow-100 text-yellow-800",green:"bg-green-100 text-green-800"})[i]||"bg-gray-100 text-gray-800",C=i=>({publico:"Público",autenticado:"Autenticado",con_permiso:"Con Permiso"})[i]||i;return(i,r)=>(l(),n(_,null,[a(e(j),{title:"Gestión de Formularios"}),a(T,{breadcrumbs:v},{default:o(()=>[t("div",S,[t("div",V,[r[1]||(r[1]=t("div",null,[t("h1",{class:"text-3xl font-bold"},"Gestión de Formularios"),t("p",{class:"text-muted-foreground"}," Administra los formularios dinámicos del sistema ")],-1)),a(e(f),{href:i.route("admin.formularios.create")},{default:o(()=>[a(e(u),null,{default:o(()=>[a(e(h),{class:"mr-2 h-4 w-4"}),r[0]||(r[0]=m(" Nuevo Formulario "))]),_:1})]),_:1},8,["href"])]),i.formularios.data.length===0?(l(),n("div",G,[a(e(P),{class:"mx-auto h-12 w-12 text-gray-400"}),r[3]||(r[3]=t("h3",{class:"mt-2 text-lg font-medium text-gray-900"},"No hay formularios",-1)),r[4]||(r[4]=t("p",{class:"mt-1 text-sm text-gray-500"},"Comienza creando un nuevo formulario.",-1)),t("div",W,[a(e(f),{href:i.route("admin.formularios.create")},{default:o(()=>[a(e(u),null,{default:o(()=>[a(e(h),{class:"mr-2 h-4 w-4"}),r[2]||(r[2]=m(" Crear primer formulario "))]),_:1})]),_:1},8,["href"])])])):(l(),n("div",q,[(l(!0),n(_,null,g(i.formularios.data,s=>(l(),p(e(z),{key:s.id},{default:o(()=>[a(e(L),null,{default:o(()=>[t("div",I,[t("div",R,[a(e(M),{class:"text-lg"},{default:o(()=>[m(d(s.titulo),1)]),_:2},1024),s.descripcion?(l(),p(e(E),{key:0,class:"mt-1"},{default:o(()=>[m(d(s.descripcion),1)]),_:2},1024)):c("",!0)]),a(e(x),{class:y(k(s.estado_temporal_color))},{default:o(()=>[m(d(s.estado_temporal_label),1)]),_:2},1032,["class"])])]),_:2},1024),a(e(N),null,{default:o(()=>[t("div",J,[t("div",K,[r[5]||(r[5]=t("span",{class:"text-muted-foreground"},"Tipo de acceso:",-1)),a(e(x),{variant:"outline"},{default:o(()=>[m(d(C(s.tipo_acceso)),1)]),_:2},1024)]),t("div",O,[r[6]||(r[6]=t("span",{class:"text-muted-foreground"},"Respuestas:",-1)),t("span",Q,d(s.estadisticas.total_respuestas),1)]),s.categoria?(l(),n("div",U,[r[7]||(r[7]=t("span",{class:"text-muted-foreground"},"Categoría:",-1)),t("span",null,d(s.categoria.nombre),1)])):c("",!0),t("div",X,[r[8]||(r[8]=t("span",{class:"text-muted-foreground"},"Slug:",-1)),t("code",Y,d(s.slug),1)])]),t("div",Z,[a(e(f),{href:i.route("admin.formularios.show",s.id)},{default:o(()=>[a(e(u),{variant:"outline",size:"sm"},{default:o(()=>[a(e(A),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),a(e(f),{href:i.route("admin.formularios.edit",s.id)},{default:o(()=>[a(e(u),{variant:"outline",size:"sm"},{default:o(()=>[a(e(B),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),s.estadisticas.total_respuestas>0?(l(),p(e(u),{key:0,variant:"outline",size:"sm",onClick:F=>e(b).visit(i.route("admin.formularios.exportar",s.id))},{default:o(()=>[a(e(D),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):c("",!0),s.estadisticas.total_respuestas===0?(l(),p(e(u),{key:1,variant:"outline",size:"sm",onClick:F=>w(s.id)},{default:o(()=>[a(e(H),{class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])):c("",!0)])]),_:2},1024)]),_:2},1024))),128))])),i.formularios.links&&i.formularios.links.length>3?(l(),n("div",ee,[t("nav",se,[(l(!0),n(_,null,g(i.formularios.links,s=>(l(),n(_,{key:s.label},[s.url?(l(),p(e(f),{key:0,href:s.url,class:y(["px-3 py-2 text-sm rounded-md",s.active?"bg-primary text-primary-foreground":"bg-white hover:bg-gray-50 border"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(l(),n("span",{key:1,class:"px-3 py-2 text-sm text-gray-400",innerHTML:s.label},null,8,te))],64))),128))])])):c("",!0)])]),_:1})],64))}});export{xe as default};
