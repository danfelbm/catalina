import{k as K,c as P,w as Me,d as S,Z as ka,p as Gt,j as w,o as v,e as d,G as q,f as I,u as l,t as L,g as E,B as T,z as Et,h as Qe,x as ea,K as je,aH as ze,b as m,l as Pa,a as O,F as ne,r as le,n as ut,i as J,be as cr,W as fr}from"./app-DxMxyGIi.js";import{P as ae,c as pr,a as oe,d as Lt,_ as ee,e as vr}from"./createLucideIcon-xPfym20I.js";import{u as Bt,n as se,h as mt,a as pe}from"./Label.vue_vue_type_script_setup_true_lang-ZtqQUjfr.js";import{r as mr,s as yr,D as hr,t as gr,F as br,q as $r,p as _r,n as Sa,P as Cr,T as wr,v as Dr,C as Ar,a as Se,b as Oe,c as qe,d as be,_ as Ee,X as Ft,w as Mr,m as xr,e as kr,f as Pr,g as Sr,h as Or,i as qr,j as Er,k as Br,l as Fr}from"./DialogTitle.vue_vue_type_script_setup_true_lang-keujMKwJ.js";import{c as nt,_ as lt,a as Ir,b as Ur}from"./index-v0X4dJtb.js";import{_ as Vr}from"./CardDescription.vue_vue_type_script_setup_true_lang-DgnDOR1X.js";import{C as Rr,g as Nr,h as Tr,m as Gr,n as ta,i as aa,f as Lr,o as Yr,p as Jr}from"./AppLayout.vue_vue_type_script_setup_true_lang-DbJ5w6pd.js";import{_ as Wr}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CElkRtzv.js";import{i as Hr,u as Oa,a as Qr,c as qa,b as ce,d as Ge}from"./VisuallyHidden-BBnR0lPC.js";import{f as Kr,e as ra}from"./es-DfN3vIXC.js";import{_ as bt}from"./DateTimePicker.vue_vue_type_script_setup_true_lang-BUcjFyVm.js";import{L as jr}from"./loader-circle-BB2geHmh.js";import{T as Ea}from"./trash-2-My4PPajc.js";import{P as na}from"./plus-s2ncD_eM.js";import{S as zr}from"./search-B_OCZyDU.js";import{F as Zr}from"./filter-DR7KytKL.js";import{C as la}from"./index-jh-0-z8Q.js";import{H as Xr}from"./history-hh4zSpCo.js";import{S as en}from"./save-BKmaFbyV.js";function Be(t,e){return t-e*Math.floor(t/e)}const Ba=1721426;function Ae(t,e,a,r){e=Ze(t,e);let n=e-1,o=-2;return a<=2?o=0:$e(e)&&(o=-1),Ba-1+365*n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400)+Math.floor((367*a-362)/12+o+r)}function $e(t){return t%4===0&&(t%100!==0||t%400===0)}function Ze(t,e){return t==="BC"?1-e:e}function yt(t){let e="AD";return t<=0&&(e="BC",t=1-t),[e,t]}const tn={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class ue{fromJulianDay(e){let a=e,r=a-Ba,n=Math.floor(r/146097),o=Be(r,146097),i=Math.floor(o/36524),c=Be(o,36524),s=Math.floor(c/1461),u=Be(c,1461),D=Math.floor(u/365),_=n*400+i*100+s*4+D+(i!==4&&D!==4?1:0),[g,p]=yt(_),b=a-Ae(g,p,1,1),$=2;a<Ae(g,p,3,1)?$=0:$e(p)&&($=1);let y=Math.floor(((b+$)*12+373)/367),C=a-Ae(g,p,y,1)+1;return new W(g,p,y,C)}toJulianDay(e){return Ae(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return tn[$e(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return $e(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const an={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function Ue(t,e){return e=te(e,t.calendar),t.era===e.era&&t.year===e.year&&t.month===e.month&&t.day===e.day}function rn(t,e){return e=te(e,t.calendar),t=Ke(t),e=Ke(e),t.era===e.era&&t.year===e.year&&t.month===e.month}function $t(t,e){return t.calendar.identifier===e.calendar.identifier&&t.era===e.era&&t.year===e.year&&t.month===e.month&&t.day===e.day}function oa(t,e){return t=Ke(t),e=Ke(e),t.calendar.identifier===e.calendar.identifier&&t.era===e.era&&t.year===e.year&&t.month===e.month}function nn(t,e){return Ue(t,Ia(e))}function Fa(t,e,a){let r=t.calendar.toJulianDay(t),n=un(e),o=Math.ceil(r+1-n)%7;return o<0&&(o+=7),o}function ln(t){return me(Date.now(),t)}function Ia(t){return fn(ln(t))}function Ua(t,e){return t.calendar.toJulianDay(t)-e.calendar.toJulianDay(e)}function on(t,e){return sa(t)-sa(e)}function sa(t){return t.hour*36e5+t.minute*6e4+t.second*1e3+t.millisecond}let _t=null;function Xe(){return _t==null&&(_t=new Intl.DateTimeFormat().resolvedOptions().timeZone),_t}function Ke(t){return t.subtract({days:t.day-1})}function ia(t){return t.add({days:t.calendar.getDaysInMonth(t)-t.day})}const ua=new Map;function sn(t){if(Intl.Locale){let a=ua.get(t);return a||(a=new Intl.Locale(t).maximize().region,a&&ua.set(t,a)),a}let e=t.split("-")[1];return e==="u"?void 0:e}function un(t){let e=sn(t);return e&&an[e]||0}function Ve(t){t=te(t,new ue);let e=Ze(t.era,t.year);return Va(e,t.month,t.day,t.hour,t.minute,t.second,t.millisecond)}function Va(t,e,a,r,n,o,i){let c=new Date;return c.setUTCHours(r,n,o,i),c.setUTCFullYear(t,e-1,a),c.getTime()}function It(t,e){if(e==="UTC")return 0;if(t>0&&e===Xe())return new Date(t).getTimezoneOffset()*-6e4;let{year:a,month:r,day:n,hour:o,minute:i,second:c}=Ra(t,e);return Va(a,r,n,o,i,c,0)-Math.floor(t/1e3)*1e3}const da=new Map;function Ra(t,e){let a=da.get(e);a||(a=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),da.set(e,a));let r=a.formatToParts(new Date(t)),n={};for(let o of r)o.type!=="literal"&&(n[o.type]=o.value);return{year:n.era==="BC"||n.era==="B"?-n.year+1:+n.year,month:+n.month,day:+n.day,hour:n.hour==="24"?0:+n.hour,minute:+n.minute,second:+n.second}}const ca=864e5;function dn(t,e,a,r){return(a===r?[a]:[a,r]).filter(o=>cn(t,e,o))}function cn(t,e,a){let r=Ra(a,e);return t.year===r.year&&t.month===r.month&&t.day===r.day&&t.hour===r.hour&&t.minute===r.minute&&t.second===r.second}function ve(t,e,a="compatible"){let r=Re(t);if(e==="UTC")return Ve(r);if(e===Xe()&&a==="compatible"){r=te(r,new ue);let s=new Date,u=Ze(r.era,r.year);return s.setFullYear(u,r.month-1,r.day),s.setHours(r.hour,r.minute,r.second,r.millisecond),s.getTime()}let n=Ve(r),o=It(n-ca,e),i=It(n+ca,e),c=dn(r,e,n-o,n-i);if(c.length===1)return c[0];if(c.length>1)switch(a){case"compatible":case"earlier":return c[0];case"later":return c[c.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(a){case"earlier":return Math.min(n-o,n-i);case"compatible":case"later":return Math.max(n-o,n-i);case"reject":throw new RangeError("No such absolute time found")}}function Na(t,e,a="compatible"){return new Date(ve(t,e,a))}function me(t,e){let a=It(t,e),r=new Date(t+a),n=r.getUTCFullYear(),o=r.getUTCMonth()+1,i=r.getUTCDate(),c=r.getUTCHours(),s=r.getUTCMinutes(),u=r.getUTCSeconds(),D=r.getUTCMilliseconds();return new Te(n<1?"BC":"AD",n<1?-n+1:n,o,i,e,a,c,s,u,D)}function fn(t){return new W(t.calendar,t.era,t.year,t.month,t.day)}function Re(t,e){let a=0,r=0,n=0,o=0;if("timeZone"in t)({hour:a,minute:r,second:n,millisecond:o}=t);else if("hour"in t&&!e)return t;return e&&({hour:a,minute:r,second:n,millisecond:o}=e),new Ne(t.calendar,t.era,t.year,t.month,t.day,a,r,n,o)}function te(t,e){if(t.calendar.identifier===e.identifier)return t;let a=e.fromJulianDay(t.calendar.toJulianDay(t)),r=t.copy();return r.calendar=e,r.era=a.era,r.year=a.year,r.month=a.month,r.day=a.day,xe(r),r}function pn(t,e,a){if(t instanceof Te)return t.timeZone===e?t:mn(t,e);let r=ve(t,e,a);return me(r,e)}function vn(t){let e=Ve(t)-t.offset;return new Date(e)}function mn(t,e){let a=Ve(t)-t.offset;return te(me(a,e),t.calendar)}const Je=36e5;function ht(t,e){let a=t.copy(),r="hour"in a?bn(a,e):0;Ut(a,e.years||0),a.calendar.balanceYearMonth&&a.calendar.balanceYearMonth(a,t),a.month+=e.months||0,Vt(a),Ta(a),a.day+=(e.weeks||0)*7,a.day+=e.days||0,a.day+=r,yn(a),a.calendar.balanceDate&&a.calendar.balanceDate(a),a.year<1&&(a.year=1,a.month=1,a.day=1);let n=a.calendar.getYearsInEra(a);if(a.year>n){var o,i;let s=(o=(i=a.calendar).isInverseEra)===null||o===void 0?void 0:o.call(i,a);a.year=n,a.month=s?1:a.calendar.getMonthsInYear(a),a.day=s?1:a.calendar.getDaysInMonth(a)}a.month<1&&(a.month=1,a.day=1);let c=a.calendar.getMonthsInYear(a);return a.month>c&&(a.month=c,a.day=a.calendar.getDaysInMonth(a)),a.day=Math.max(1,Math.min(a.calendar.getDaysInMonth(a),a.day)),a}function Ut(t,e){var a,r;!((a=(r=t.calendar).isInverseEra)===null||a===void 0)&&a.call(r,t)&&(e=-e),t.year+=e}function Vt(t){for(;t.month<1;)Ut(t,-1),t.month+=t.calendar.getMonthsInYear(t);let e=0;for(;t.month>(e=t.calendar.getMonthsInYear(t));)t.month-=e,Ut(t,1)}function yn(t){for(;t.day<1;)t.month--,Vt(t),t.day+=t.calendar.getDaysInMonth(t);for(;t.day>t.calendar.getDaysInMonth(t);)t.day-=t.calendar.getDaysInMonth(t),t.month++,Vt(t)}function Ta(t){t.month=Math.max(1,Math.min(t.calendar.getMonthsInYear(t),t.month)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day))}function xe(t){t.calendar.constrainDate&&t.calendar.constrainDate(t),t.year=Math.max(1,Math.min(t.calendar.getYearsInEra(t),t.year)),Ta(t)}function Ga(t){let e={};for(let a in t)typeof t[a]=="number"&&(e[a]=-t[a]);return e}function La(t,e){return ht(t,Ga(e))}function Yt(t,e){let a=t.copy();return e.era!=null&&(a.era=e.era),e.year!=null&&(a.year=e.year),e.month!=null&&(a.month=e.month),e.day!=null&&(a.day=e.day),xe(a),a}function dt(t,e){let a=t.copy();return e.hour!=null&&(a.hour=e.hour),e.minute!=null&&(a.minute=e.minute),e.second!=null&&(a.second=e.second),e.millisecond!=null&&(a.millisecond=e.millisecond),gn(a),a}function hn(t){t.second+=Math.floor(t.millisecond/1e3),t.millisecond=at(t.millisecond,1e3),t.minute+=Math.floor(t.second/60),t.second=at(t.second,60),t.hour+=Math.floor(t.minute/60),t.minute=at(t.minute,60);let e=Math.floor(t.hour/24);return t.hour=at(t.hour,24),e}function gn(t){t.millisecond=Math.max(0,Math.min(t.millisecond,1e3)),t.second=Math.max(0,Math.min(t.second,59)),t.minute=Math.max(0,Math.min(t.minute,59)),t.hour=Math.max(0,Math.min(t.hour,23))}function at(t,e){let a=t%e;return a<0&&(a+=e),a}function bn(t,e){return t.hour+=e.hours||0,t.minute+=e.minutes||0,t.second+=e.seconds||0,t.millisecond+=e.milliseconds||0,hn(t)}function Jt(t,e,a,r){let n=t.copy();switch(e){case"era":{let c=t.calendar.getEras(),s=c.indexOf(t.era);if(s<0)throw new Error("Invalid era: "+t.era);s=ye(s,a,0,c.length-1,r==null?void 0:r.round),n.era=c[s],xe(n);break}case"year":var o,i;!((o=(i=n.calendar).isInverseEra)===null||o===void 0)&&o.call(i,n)&&(a=-a),n.year=ye(t.year,a,-1/0,9999,r==null?void 0:r.round),n.year===-1/0&&(n.year=1),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,t);break;case"month":n.month=ye(t.month,a,1,t.calendar.getMonthsInYear(t),r==null?void 0:r.round);break;case"day":n.day=ye(t.day,a,1,t.calendar.getDaysInMonth(t),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return t.calendar.balanceDate&&t.calendar.balanceDate(n),xe(n),n}function Ya(t,e,a,r){let n=t.copy();switch(e){case"hour":{let o=t.hour,i=0,c=23;if((r==null?void 0:r.hourCycle)===12){let s=o>=12;i=s?12:0,c=s?23:11}n.hour=ye(o,a,i,c,r==null?void 0:r.round);break}case"minute":n.minute=ye(t.minute,a,0,59,r==null?void 0:r.round);break;case"second":n.second=ye(t.second,a,0,59,r==null?void 0:r.round);break;case"millisecond":n.millisecond=ye(t.millisecond,a,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return n}function ye(t,e,a,r,n=!1){if(n){t+=Math.sign(e),t<a&&(t=r);let o=Math.abs(e);e>0?t=Math.ceil(t/o)*o:t=Math.floor(t/o)*o,t>r&&(t=a)}else t+=e,t<a?t=r-(a-t-1):t>r&&(t=a+(t-r-1));return t}function Ja(t,e){let a;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let n=ht(Re(t),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});a=ve(n,t.timeZone)}else a=Ve(t)-t.offset;a+=e.milliseconds||0,a+=(e.seconds||0)*1e3,a+=(e.minutes||0)*6e4,a+=(e.hours||0)*36e5;let r=me(a,t.timeZone);return te(r,t.calendar)}function $n(t,e){return Ja(t,Ga(e))}function _n(t,e,a,r){switch(e){case"hour":{let n=0,o=23;if((r==null?void 0:r.hourCycle)===12){let b=t.hour>=12;n=b?12:0,o=b?23:11}let i=Re(t),c=te(dt(i,{hour:n}),new ue),s=[ve(c,t.timeZone,"earlier"),ve(c,t.timeZone,"later")].filter(b=>me(b,t.timeZone).day===c.day)[0],u=te(dt(i,{hour:o}),new ue),D=[ve(u,t.timeZone,"earlier"),ve(u,t.timeZone,"later")].filter(b=>me(b,t.timeZone).day===u.day).pop(),_=Ve(t)-t.offset,g=Math.floor(_/Je),p=_%Je;return _=ye(g,a,Math.floor(s/Je),Math.floor(D/Je),r==null?void 0:r.round)*Je+p,te(me(_,t.timeZone),t.calendar)}case"minute":case"second":case"millisecond":return Ya(t,e,a,r);case"era":case"year":case"month":case"day":{let n=Jt(Re(t),e,a,r),o=ve(n,t.timeZone);return te(me(o,t.timeZone),t.calendar)}default:throw new Error("Unsupported field "+e)}}function Cn(t,e,a){let r=Re(t),n=dt(Yt(r,e),e);if(n.compare(r)===0)return t;let o=ve(n,t.timeZone,a);return te(me(o,t.timeZone),t.calendar)}function wn(t){return`${String(t.hour).padStart(2,"0")}:${String(t.minute).padStart(2,"0")}:${String(t.second).padStart(2,"0")}${t.millisecond?String(t.millisecond/1e3).slice(1):""}`}function Wa(t){let e=te(t,new ue),a;return e.era==="BC"?a=e.year===1?"0000":"-"+String(Math.abs(1-e.year)).padStart(6,"00"):a=String(e.year).padStart(4,"0"),`${a}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function Ha(t){return`${Wa(t)}T${wn(t)}`}function Dn(t){let e=Math.sign(t)<0?"-":"+";t=Math.abs(t);let a=Math.floor(t/36e5),r=t%36e5/6e4;return`${e}${String(a).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function An(t){return`${Ha(t)}${Dn(t.offset)}[${t.timeZone}]`}function Mn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wt(t,e,a){Mn(t,e),e.set(t,a)}function Ht(t){let e=typeof t[0]=="object"?t.shift():new ue,a;if(typeof t[0]=="string")a=t.shift();else{let i=e.getEras();a=i[i.length-1]}let r=t.shift(),n=t.shift(),o=t.shift();return[e,a,r,n,o]}var xn=new WeakMap;class W{copy(){return this.era?new W(this.calendar,this.era,this.year,this.month,this.day):new W(this.calendar,this.year,this.month,this.day)}add(e){return ht(this,e)}subtract(e){return La(this,e)}set(e){return Yt(this,e)}cycle(e,a,r){return Jt(this,e,a,r)}toDate(e){return Na(this,e)}toString(){return Wa(this)}compare(e){return Ua(this,e)}constructor(...e){Wt(this,xn,{writable:!0,value:void 0});let[a,r,n,o,i]=Ht(e);this.calendar=a,this.era=r,this.year=n,this.month=o,this.day=i,xe(this)}}var kn=new WeakMap;class Ne{copy(){return this.era?new Ne(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new Ne(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return ht(this,e)}subtract(e){return La(this,e)}set(e){return Yt(dt(this,e),e)}cycle(e,a,r){switch(e){case"era":case"year":case"month":case"day":return Jt(this,e,a,r);default:return Ya(this,e,a,r)}}toDate(e,a){return Na(this,e,a)}toString(){return Ha(this)}compare(e){let a=Ua(this,e);return a===0?on(this,Re(e)):a}constructor(...e){Wt(this,kn,{writable:!0,value:void 0});let[a,r,n,o,i]=Ht(e);this.calendar=a,this.era=r,this.year=n,this.month=o,this.day=i,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,xe(this)}}var Pn=new WeakMap;class Te{copy(){return this.era?new Te(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new Te(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return Ja(this,e)}subtract(e){return $n(this,e)}set(e,a){return Cn(this,e,a)}cycle(e,a,r){return _n(this,e,a,r)}toDate(){return vn(this)}toString(){return An(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-pn(e,this.timeZone).toDate().getTime()}constructor(...e){Wt(this,Pn,{writable:!0,value:void 0});let[a,r,n,o,i]=Ht(e),c=e.shift(),s=e.shift();this.calendar=a,this.era=r,this.year=n,this.month=o,this.day=i,this.timeZone=c,this.offset=s,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,xe(this)}}const Fe=[[1868,9,8],[1912,7,30],[1926,12,25],[1989,1,8],[2019,5,1]],Sn=[[1912,7,29],[1926,12,24],[1989,1,7],[2019,4,30]],ot=[1867,1911,1925,1988,2018],ge=["meiji","taisho","showa","heisei","reiwa"];function fa(t){const e=Fe.findIndex(([a,r,n])=>t.year<a||t.year===a&&t.month<r||t.year===a&&t.month===r&&t.day<n);return e===-1?Fe.length-1:e===0?0:e-1}function Ct(t){let e=ot[ge.indexOf(t.era)];if(!e)throw new Error("Unknown era: "+t.era);return new W(t.year+e,t.month,t.day)}class On extends ue{fromJulianDay(e){let a=super.fromJulianDay(e),r=fa(a);return new W(this,ge[r],a.year-ot[r],a.month,a.day)}toJulianDay(e){return super.toJulianDay(Ct(e))}balanceDate(e){let a=Ct(e),r=fa(a);ge[r]!==e.era&&(e.era=ge[r],e.year=a.year-ot[r]),this.constrainDate(e)}constrainDate(e){let a=ge.indexOf(e.era),r=Sn[a];if(r!=null){let[n,o,i]=r,c=n-ot[a];e.year=Math.max(1,Math.min(c,e.year)),e.year===c&&(e.month=Math.min(o,e.month),e.month===o&&(e.day=Math.min(i,e.day)))}if(e.year===1&&a>=0){let[,n,o]=Fe[a];e.month=Math.max(n,e.month),e.month===n&&(e.day=Math.max(o,e.day))}}getEras(){return ge}getYearsInEra(e){let a=ge.indexOf(e.era),r=Fe[a],n=Fe[a+1];if(n==null)return 9999-r[0]+1;let o=n[0]-r[0];return(e.month<n[1]||e.month===n[1]&&e.day<n[2])&&o++,o}getDaysInMonth(e){return super.getDaysInMonth(Ct(e))}getMinimumMonthInYear(e){let a=pa(e);return a?a[1]:1}getMinimumDayInMonth(e){let a=pa(e);return a&&e.month===a[1]?a[2]:1}constructor(...e){super(...e),this.identifier="japanese"}}function pa(t){if(t.year===1){let e=ge.indexOf(t.era);return Fe[e]}}const Qa=-543;class qn extends ue{fromJulianDay(e){let a=super.fromJulianDay(e),r=Ze(a.era,a.year);return new W(this,r-Qa,a.month,a.day)}toJulianDay(e){return super.toJulianDay(va(e))}getEras(){return["BE"]}getDaysInMonth(e){return super.getDaysInMonth(va(e))}balanceDate(){}constructor(...e){super(...e),this.identifier="buddhist"}}function va(t){let[e,a]=yt(t.year+Qa);return new W(e,a,t.month,t.day)}const ct=1911;function Ka(t){return t.era==="minguo"?t.year+ct:1-t.year+ct}function ma(t){let e=t-ct;return e>0?["minguo",e]:["before_minguo",1-e]}class En extends ue{fromJulianDay(e){let a=super.fromJulianDay(e),r=Ze(a.era,a.year),[n,o]=ma(r);return new W(this,n,o,a.month,a.day)}toJulianDay(e){return super.toJulianDay(ya(e))}getEras(){return["before_minguo","minguo"]}balanceDate(e){let[a,r]=ma(Ka(e));e.era=a,e.year=r}isInverseEra(e){return e.era==="before_minguo"}getDaysInMonth(e){return super.getDaysInMonth(ya(e))}getYearsInEra(e){return e.era==="before_minguo"?9999:9999-ct}constructor(...e){super(...e),this.identifier="roc"}}function ya(t){let[e,a]=yt(Ka(t));return new W(e,a,t.month,t.day)}const ha=1948320,ga=[0,31,62,93,124,155,186,216,246,276,306,336];class Bn{fromJulianDay(e){let a=e-ha,r=1+Math.floor((33*a+3)/12053),n=365*(r-1)+Math.floor((8*r+21)/33),o=a-n,i=o<216?Math.floor(o/31):Math.floor((o-6)/30),c=o-ga[i]+1;return new W(this,r,i+1,c)}toJulianDay(e){let a=ha-1+365*(e.year-1)+Math.floor((8*e.year+21)/33);return a+=ga[e.month-1],a+=e.day,a}getMonthsInYear(){return 12}getDaysInMonth(e){return e.month<=6?31:e.month<=11||Be(25*e.year+11,33)<8?30:29}getEras(){return["AP"]}getYearsInEra(){return 9377}constructor(){this.identifier="persian"}}const wt=78,ba=80;class Fn extends ue{fromJulianDay(e){let a=super.fromJulianDay(e),r=a.year-wt,n=e-Ae(a.era,a.year,1,1),o;n<ba?(r--,o=$e(a.year-1)?31:30,n+=o+155+90+10):(o=$e(a.year)?31:30,n-=ba);let i,c;if(n<o)i=1,c=n+1;else{let s=n-o;s<155?(i=Math.floor(s/31)+2,c=s%31+1):(s-=155,i=Math.floor(s/30)+7,c=s%30+1)}return new W(this,r,i,c)}toJulianDay(e){let a=e.year+wt,[r,n]=yt(a),o,i;return $e(n)?(o=31,i=Ae(r,n,3,21)):(o=30,i=Ae(r,n,3,22)),e.month===1?i+e.day-1:(i+=o+Math.min(e.month-2,5)*31,e.month>=8&&(i+=(e.month-7)*30),i+=e.day-1,i)}getDaysInMonth(e){return e.month===1&&$e(e.year+wt)||e.month>=2&&e.month<=6?31:30}getYearsInEra(){return 9919}getEras(){return["saka"]}balanceDate(){}constructor(...e){super(...e),this.identifier="indian"}}const ft=1948440,$a=1948439,re=1300,Pe=1600,In=460322;function pt(t,e,a,r){return r+Math.ceil(29.5*(a-1))+(e-1)*354+Math.floor((3+11*e)/30)+t-1}function ja(t,e,a){let r=Math.floor((30*(a-e)+10646)/10631),n=Math.min(12,Math.ceil((a-(29+pt(e,r,1,1)))/29.5)+1),o=a-pt(e,r,n,1)+1;return new W(t,r,n,o)}function _a(t){return(14+11*t)%30<11}class Qt{fromJulianDay(e){return ja(this,ft,e)}toJulianDay(e){return pt(ft,e.year,e.month,e.day)}getDaysInMonth(e){let a=29+e.month%2;return e.month===12&&_a(e.year)&&a++,a}getMonthsInYear(){return 12}getDaysInYear(e){return _a(e.year)?355:354}getYearsInEra(){return 9665}getEras(){return["AH"]}constructor(){this.identifier="islamic-civil"}}class Un extends Qt{fromJulianDay(e){return ja(this,$a,e)}toJulianDay(e){return pt($a,e.year,e.month,e.day)}constructor(...e){super(...e),this.identifier="islamic-tbla"}}const Vn="qgpUDckO1AbqBmwDrQpVBakGkgepC9QF2gpcBS0NlQZKB1QLagutBa4ETwoXBYsGpQbVCtYCWwmdBE0KJg2VDawFtgm6AlsKKwWVCsoG6Qr0AnYJtgJWCcoKpAvSC9kF3AJtCU0FpQpSC6ULtAW2CVcFlwJLBaMGUgdlC2oFqworBZUMSg2lDcoF1gpXCasESwmlClILagt1BXYCtwhbBFUFqQW0BdoJ3QRuAjYJqgpUDbIN1QXaAlsJqwRVCkkLZAtxC7QFtQpVCiUNkg7JDtQG6QprCasEkwpJDaQNsg25CroEWworBZUKKgtVC1wFvQQ9Ah0JlQpKC1oLbQW2AjsJmwRVBqkGVAdqC2wFrQpVBSkLkgupC9QF2gpaBasKlQVJB2QHqgu1BbYCVgpNDiULUgtqC60FrgIvCZcESwalBqwG1gpdBZ0ETQoWDZUNqgW1BdoCWwmtBJUFygbkBuoK9QS2AlYJqgpUC9IL2QXqAm0JrQSVCkoLpQuyBbUJ1gSXCkcFkwZJB1ULagVrCisFiwpGDaMNygXWCtsEawJLCaUKUgtpC3UFdgG3CFsCKwVlBbQF2gntBG0BtgimClINqQ3UBdoKWwmrBFMGKQdiB6kLsgW1ClUFJQuSDckO0gbpCmsFqwRVCikNVA2qDbUJugQ7CpsETQqqCtUK2gJdCV4ELgqaDFUNsga5BroEXQotBZUKUguoC7QLuQXaAloJSgukDdEO6AZqC20FNQWVBkoNqA3UDdoGWwWdAisGFQtKC5ULqgWuCi4JjwwnBZUGqgbWCl0FnQI=";let Rt,Ie;function st(t){return In+Ie[t-re]}function We(t,e){let a=t-re,r=1<<11-(e-1);return Rt[a]&r?30:29}function Ca(t,e){let a=st(t);for(let r=1;r<e;r++)a+=We(t,r);return a}function wa(t){return Ie[t+1-re]-Ie[t-re]}class Rn extends Qt{fromJulianDay(e){let a=e-ft,r=st(re),n=st(Pe);if(a<r||a>n)return super.fromJulianDay(e);{let o=re-1,i=1,c=1;for(;c>0;){o++,c=a-st(o)+1;let s=wa(o);if(c===s){i=12;break}else if(c<s){let u=We(o,i);for(i=1;c>u;)c-=u,i++,u=We(o,i);break}}return new W(this,o,i,a-Ca(o,i)+1)}}toJulianDay(e){return e.year<re||e.year>Pe?super.toJulianDay(e):ft+Ca(e.year,e.month)+(e.day-1)}getDaysInMonth(e){return e.year<re||e.year>Pe?super.getDaysInMonth(e):We(e.year,e.month)}getDaysInYear(e){return e.year<re||e.year>Pe?super.getDaysInYear(e):wa(e.year)}constructor(){if(super(),this.identifier="islamic-umalqura",Rt||(Rt=new Uint16Array(Uint8Array.from(atob(Vn),e=>e.charCodeAt(0)).buffer)),!Ie){Ie=new Uint32Array(Pe-re+1);let e=0;for(let a=re;a<=Pe;a++){Ie[a-re]=e;for(let r=1;r<=12;r++)e+=We(a,r)}}}}const Da=347997,za=1080,Za=24*za,Nn=29,Tn=12*za+793,Gn=Nn*Za+Tn;function De(t){return Be(t*7+1,19)<7}function it(t){let e=Math.floor((235*t-234)/19),a=12084+13753*e,r=e*29+Math.floor(a/25920);return Be(3*(r+1),7)<3&&(r+=1),r}function Ln(t){let e=it(t-1),a=it(t);return it(t+1)-a===356?2:a-e===382?1:0}function He(t){return it(t)+Ln(t)}function Xa(t){return He(t+1)-He(t)}function Yn(t){let e=Xa(t);switch(e>380&&(e-=30),e){case 353:return 0;case 354:return 1;case 355:return 2}}function rt(t,e){if(e>=6&&!De(t)&&e++,e===4||e===7||e===9||e===11||e===13)return 29;let a=Yn(t);return e===2?a===2?30:29:e===3?a===0?29:30:e===6?De(t)?30:0:30}class Jn{fromJulianDay(e){let a=e-Da,r=a*Za/Gn,n=Math.floor((19*r+234)/235)+1,o=He(n),i=Math.floor(a-o);for(;i<1;)n--,o=He(n),i=Math.floor(a-o);let c=1,s=0;for(;s<i;)s+=rt(n,c),c++;c--,s-=rt(n,c);let u=i-s;return new W(this,n,c,u)}toJulianDay(e){let a=He(e.year);for(let r=1;r<e.month;r++)a+=rt(e.year,r);return a+e.day+Da}getDaysInMonth(e){return rt(e.year,e.month)}getMonthsInYear(e){return De(e.year)?13:12}getDaysInYear(e){return Xa(e.year)}getYearsInEra(){return 9999}getEras(){return["AM"]}balanceYearMonth(e,a){a.year!==e.year&&(De(a.year)&&!De(e.year)&&a.month>6?e.month--:!De(a.year)&&De(e.year)&&a.month>6&&e.month++)}constructor(){this.identifier="hebrew"}}const Nt=1723856,Aa=1824665,Tt=5500;function vt(t,e,a,r){return t+365*e+Math.floor(e/4)+30*(a-1)+r-1}function Kt(t,e){let a=Math.floor(4*(e-t)/1461),r=1+Math.floor((e-vt(t,a,1,1))/30),n=e+1-vt(t,a,r,1);return[a,r,n]}function er(t){return Math.floor(t%4/3)}function tr(t,e){return e%13!==0?30:er(t)+5}class jt{fromJulianDay(e){let[a,r,n]=Kt(Nt,e),o="AM";return a<=0&&(o="AA",a+=Tt),new W(this,o,a,r,n)}toJulianDay(e){let a=e.year;return e.era==="AA"&&(a-=Tt),vt(Nt,a,e.month,e.day)}getDaysInMonth(e){return tr(e.year,e.month)}getMonthsInYear(){return 13}getDaysInYear(e){return 365+er(e.year)}getYearsInEra(e){return e.era==="AA"?9999:9991}getEras(){return["AA","AM"]}constructor(){this.identifier="ethiopic"}}class Wn extends jt{fromJulianDay(e){let[a,r,n]=Kt(Nt,e);return a+=Tt,new W(this,"AA",a,r,n)}getEras(){return["AA"]}getYearsInEra(){return 9999}constructor(...e){super(...e),this.identifier="ethioaa"}}class Hn extends jt{fromJulianDay(e){let[a,r,n]=Kt(Aa,e),o="CE";return a<=0&&(o="BCE",a=1-a),new W(this,o,a,r,n)}toJulianDay(e){let a=e.year;return e.era==="BCE"&&(a=1-a),vt(Aa,a,e.month,e.day)}getDaysInMonth(e){let a=e.year;return e.era==="BCE"&&(a=1-a),tr(a,e.month)}isInverseEra(e){return e.era==="BCE"}balanceDate(e){e.year<=0&&(e.era=e.era==="BCE"?"CE":"BCE",e.year=1-e.year)}getEras(){return["BCE","CE"]}getYearsInEra(e){return e.era==="BCE"?9999:9715}constructor(...e){super(...e),this.identifier="coptic"}}function Qn(t){switch(t){case"buddhist":return new qn;case"ethiopic":return new jt;case"ethioaa":return new Wn;case"coptic":return new Hn;case"hebrew":return new Jn;case"indian":return new Fn;case"islamic-civil":return new Qt;case"islamic-tbla":return new Un;case"islamic-umalqura":return new Rn;case"japanese":return new On;case"persian":return new Bn;case"roc":return new En;case"gregory":default:return new ue}}let Dt=new Map;class fe{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,a){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,a);if(a<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(a)}`}formatRangeToParts(e,a){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,a);if(a<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),n=this.formatter.formatToParts(a);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...n.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return zn()&&(this.resolvedHourCycle||(this.resolvedHourCycle=Zn(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,a={}){this.formatter=ar(e,a),this.options=a}}const Kn={true:{ja:"h11"},false:{}};function ar(t,e={}){if(typeof e.hour12=="boolean"&&jn()){e={...e};let n=Kn[String(e.hour12)][t.split("-")[0]],o=e.hour12?"h12":"h23";e.hourCycle=n??o,delete e.hour12}let a=t+(e?Object.entries(e).sort((n,o)=>n[0]<o[0]?-1:1).join():"");if(Dt.has(a))return Dt.get(a);let r=new Intl.DateTimeFormat(t,e);return Dt.set(a,r),r}let At=null;function jn(){return At==null&&(At=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),At}let Mt=null;function zn(){return Mt==null&&(Mt=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),Mt}function Zn(t,e){if(!e.timeStyle&&!e.hour)return;t=t.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),t+=(t.includes("-u-")?"":"-u")+"-nu-latn";let a=ar(t,{...e,timeZone:void 0}),r=parseInt(a.formatToParts(new Date(2020,2,3,0)).find(o=>o.type==="hour").value,10),n=parseInt(a.formatToParts(new Date(2020,2,3,23)).find(o=>o.type==="hour").value,10);if(r===0&&n===23)return"h23";if(r===24&&n===23)return"h24";if(r===0&&n===11)return"h11";if(r===12&&n===11)return"h12";throw new Error("Unexpected hour cycle result")}function de(t,e=Xe()){return zt(t)?t.toDate():t.toDate(e)}function Xn(t){return t instanceof Ne}function zt(t){return t instanceof Te}function el(t){return Xn(t)||zt(t)}function ke(t){if(t instanceof Date){const e=t.getFullYear(),a=t.getMonth()+1;return new Date(e,a,0).getDate()}else return t.set({day:100}).day}function xt(t,e){return t.compare(e)<0}function kt(t,e){return t.compare(e)>0}function tl(t,e,a){const r=Fa(t,a);return e>r?t.subtract({days:r+7-e}):e===r?t:t.subtract({days:r-e})}function al(t,e,a){const r=Fa(t,a),n=e===0?6:e-1;return r===n?t:r>n?t.add({days:7-r+n}):t.add({days:n-r})}function rl(t){const{defaultValue:e,defaultPlaceholder:a,granularity:r="day",locale:n="en"}=t;if(Array.isArray(e)&&e.length)return e.at(-1).copy();if(e&&!Array.isArray(e))return e.copy();if(a)return a.copy();const o=new Date,i=o.getFullYear(),c=o.getMonth()+1,s=o.getDate(),u=["hour","minute","second"],D=new fe(n),_=Qn(D.resolvedOptions().calendar);return u.includes(r??"day")?te(new Ne(i,c,s,0,0,0),_):te(new W(i,c,s),_)}function nl(t,e){const a=[];for(let r=0;r<t.length;r+=e)a.push(t.slice(r,r+e));return a}function ll(t){const e=t.querySelector("[data-selected]");if(e)return e.focus();const a=t.querySelector("[data-today]");if(a)return a.focus();const r=t.querySelector("[data-reka-calendar-day]");if(r)return r.focus()}function Ma(t,e){const a=[];let r=t.add({days:1});const n=e;for(;r.compare(n)<0;)a.push(r),r=r.add({days:1});return a}function Pt(t){const{dateObj:e,weekStartsOn:a,fixedWeeks:r,locale:n}=t,o=ke(e),i=Array.from({length:o},(y,C)=>e.set({day:C+1})),c=Ke(e),s=ia(e),u=tl(c,a,n),D=al(s,a,n),_=Ma(u.subtract({days:1}),c),g=Ma(s,D.add({days:1})),p=_.length+i.length+g.length;if(r&&p<42){const y=42-p;let C=g[g.length-1];C||(C=ia(e));const k=Array.from({length:y},(A,B)=>{const Y=B+1;return C.add({days:Y})});g.push(...k)}const b=_.concat(i,g),$=nl(b,7);return{value:e,cells:b,rows:$}}function we(t){const{numberOfMonths:e,dateObj:a,...r}=t,n=[];if(!e||e===1)return n.push(Pt({...r,dateObj:a})),n;n.push(Pt({...r,dateObj:a}));for(let o=1;o<e;o++){const i=a.add({months:o});n.push(Pt({...r,dateObj:i}))}return n}function ol(t,e={}){const a=K(t);function r(){return a.value}function n(y){a.value=y}function o(y,C){return new fe(a.value,{...e,...C}).format(y)}function i(y,C=!0){return el(y)&&C?o(de(y),{dateStyle:"long",timeStyle:"long"}):o(de(y),{dateStyle:"long"})}function c(y,C={}){return new fe(a.value,{...e,month:"long",year:"numeric",...C}).format(y)}function s(y,C={}){return new fe(a.value,{...e,month:"long",...C}).format(y)}function u(){const y=Ia(Xe());return[1,2,3,4,5,6,7,8,9,10,11,12].map(k=>({label:s(de(y.set({month:k}))),value:k}))}function D(y,C={}){return new fe(a.value,{...e,year:"numeric",...C}).format(y)}function _(y,C){return zt(y)?new fe(a.value,{...e,...C,timeZone:y.timeZone}).formatToParts(de(y)):new fe(a.value,{...e,...C}).formatToParts(de(y))}function g(y,C="narrow"){return new fe(a.value,{...e,weekday:C}).format(y)}function p(y){var A;return((A=new fe(a.value,{...e,hour:"numeric",minute:"numeric"}).formatToParts(y).find(B=>B.type==="dayPeriod"))==null?void 0:A.value)==="PM"?"PM":"AM"}const b={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function $(y,C,k={}){const A={...b,...k},Y=_(y,A).find(V=>V.type===C);return Y?Y.value:""}return{setLocale:n,getLocale:r,fullMonth:s,fullYear:D,fullMonthAndYear:c,toParts:_,custom:o,part:$,dayPeriod:p,selectedDate:i,dayOfWeek:g,getMonths:u}}function sl(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function il(t){const e=Hr({locale:K("en")});return P(()=>{var a;return(t==null?void 0:t.value)||((a=e.locale)==null?void 0:a.value)||"en"})}function ul(t){function e(r){return Array.isArray(t.date.value)?t.date.value.some(n=>Ue(n,r)):t.date.value?Ue(t.date.value,r):!1}const a=P(()=>{var r,n,o,i;if(Array.isArray(t.date.value)){if(!t.date.value.length)return!1;for(const c of t.date.value)if((r=t.isDateDisabled)!=null&&r.call(t,c)||(n=t.isDateUnavailable)!=null&&n.call(t,c))return!0}else{if(!t.date.value)return!1;if((o=t.isDateDisabled)!=null&&o.call(t,t.date.value)||(i=t.isDateUnavailable)!=null&&i.call(t,t.date.value))return!0}return!1});return{isDateSelected:e,isInvalid:a}}function dl(t,e){const a=e(t),r=a.compare(t),n={};return r>=7&&(n.day=1),r>=ke(t)&&(n.month=1),a.set({...n})}function cl(t,e){const a=e(t),r=t.compare(a),n={};return r>=7&&(n.day=35),r>=ke(t)&&(n.month=13),a.set({...n})}function fl(t,e){return e(t)}function pl(t,e){return e(t)}function vl(t){const e=ol(t.locale.value),a=P(()=>{const $={calendar:t.placeholder.value.calendar.identifier};return t.placeholder.value.calendar.identifier==="gregory"&&t.placeholder.value.era==="BC"&&($.era="short"),$}),r=K(we({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})),n=P(()=>r.value.map($=>$.value));function o($){return!n.value.some(y=>oa($,y))}const i=$=>{if(!t.maxValue.value||!r.value.length)return!1;if(t.disabled.value)return!0;const y=r.value[r.value.length-1].value;if(!$&&!t.nextPage.value){const k=y.add({months:1}).set({day:1});return kt(k,t.maxValue.value)}const C=dl(y,$||t.nextPage.value);return kt(C,t.maxValue.value)},c=$=>{if(!t.minValue.value||!r.value.length)return!1;if(t.disabled.value)return!0;const y=r.value[0].value;if(!$&&!t.prevPage.value){const k=y.subtract({months:1}).set({day:35});return xt(k,t.minValue.value)}const C=cl(y,$||t.prevPage.value);return xt(C,t.minValue.value)};function s($){var y;return!!((y=t.isDateDisabled)!=null&&y.call(t,$)||t.disabled.value||t.maxValue.value&&kt($,t.maxValue.value)||t.minValue.value&&xt($,t.minValue.value))}const u=$=>{var y;return!!((y=t.isDateUnavailable)!=null&&y.call(t,$))},D=P(()=>r.value.length?r.value[0].rows[0].map($=>e.dayOfWeek(de($),t.weekdayFormat.value)):[]),_=$=>{const y=r.value[0].value;if(!$&&!t.nextPage.value){const B=y.add({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),Y=we({dateObj:B,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=Y,t.placeholder.value=Y[0].value.set({day:1});return}const C=fl(y,$||t.nextPage.value),k=we({dateObj:C,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=k;const A={};if(!$){const B=k[0].value.compare(y);B>=ke(y)&&(A.day=1),B>=365&&(A.month=1)}t.placeholder.value=k[0].value.set({...A})},g=$=>{const y=r.value[0].value;if(!$&&!t.prevPage.value){const B=y.subtract({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),Y=we({dateObj:B,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=Y,t.placeholder.value=Y[0].value.set({day:1});return}const C=pl(y,$||t.prevPage.value),k=we({dateObj:C,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});r.value=k;const A={};if(!$){const B=y.compare(k[0].value);B>=ke(y)&&(A.day=1),B>=365&&(A.month=1)}t.placeholder.value=k[0].value.set({...A})};Me(t.placeholder,$=>{n.value.some(y=>oa(y,$))||(r.value=we({dateObj:$,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value}))}),Me([t.locale,t.weekStartsOn,t.fixedWeeks,t.numberOfMonths],()=>{r.value=we({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})});const p=P(()=>{if(!r.value.length)return"";if(t.locale.value!==e.getLocale()&&e.setLocale(t.locale.value),r.value.length===1){const V=r.value[0].value;return`${e.fullMonthAndYear(de(V),a.value)}`}const $=de(r.value[0].value),y=de(r.value[r.value.length-1].value),C=e.fullMonth($,a.value),k=e.fullMonth(y,a.value),A=e.fullYear($,a.value),B=e.fullYear(y,a.value);return A===B?`${C} - ${k} ${B}`:`${C} ${A} - ${k} ${B}`}),b=P(()=>`${t.calendarLabel.value??"Event Date"}, ${p.value}`);return{isDateDisabled:s,isDateUnavailable:u,isNextButtonDisabled:i,isPrevButtonDisabled:c,grid:r,weekdays:D,visibleView:n,isOutsideVisibleView:o,formatter:e,nextPage:_,prevPage:g,headingValue:p,fullCalendarLabel:b}}const ml={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},yl={role:"heading","aria-level":"2"},[Le,hl]=qa("CalendarRoot");var gl=S({__name:"CalendarRoot",props:{defaultValue:{type:null,required:!1,default:void 0},defaultPlaceholder:{type:null,required:!1},placeholder:{type:null,required:!1,default:void 0},pagedNavigation:{type:Boolean,required:!1,default:!1},preventDeselect:{type:Boolean,required:!1,default:!1},weekStartsOn:{type:Number,required:!1,default:0},weekdayFormat:{type:String,required:!1,default:"narrow"},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1,default:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1,default:1},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},initialFocus:{type:Boolean,required:!1,default:!1},isDateDisabled:{type:Function,required:!1,default:void 0},isDateUnavailable:{type:Function,required:!1,default:void 0},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1,default:!1},disableDaysOutsideCurrentView:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:e}){const a=t,r=e,{disabled:n,readonly:o,initialFocus:i,pagedNavigation:c,weekStartsOn:s,weekdayFormat:u,fixedWeeks:D,multiple:_,minValue:g,maxValue:p,numberOfMonths:b,preventDeselect:$,isDateDisabled:y,isDateUnavailable:C,calendarLabel:k,defaultValue:A,nextPage:B,prevPage:Y,dir:V,locale:X,disableDaysOutsideCurrentView:Z}=ka(a),{primitiveElement:j,currentElement:_e}=Oa(),H=il(X),R=Qr(V),F=Bt(a,"modelValue",r,{defaultValue:A.value,passive:a.modelValue===void 0}),z=rl({defaultPlaceholder:a.placeholder,defaultValue:F.value,locale:a.locale}),G=Bt(a,"placeholder",r,{defaultValue:a.defaultPlaceholder??z.copy(),passive:a.placeholder===void 0});function he(N){G.value=N.copy()}const{fullCalendarLabel:Ce,headingValue:M,isDateDisabled:f,isDateUnavailable:h,isNextButtonDisabled:x,isPrevButtonDisabled:U,weekdays:Q,isOutsideVisibleView:ie,nextPage:or,prevPage:sr,formatter:ir,grid:Zt}=vl({locale:H,placeholder:G,weekStartsOn:s,fixedWeeks:D,numberOfMonths:b,minValue:g,maxValue:p,disabled:n,weekdayFormat:u,pagedNavigation:c,isDateDisabled:y.value,isDateUnavailable:C.value,calendarLabel:k,nextPage:B,prevPage:Y}),{isInvalid:Xt,isDateSelected:ur}=ul({date:F,isDateDisabled:f,isDateUnavailable:h});Me(F,N=>{if(Array.isArray(N)&&N.length){const Ye=N[N.length-1];Ye&&!$t(G.value,Ye)&&he(Ye)}else!Array.isArray(N)&&N&&!$t(G.value,N)&&he(N)});function dr(N){if(_.value){if(!F.value)F.value=[N.copy()];else if(Array.isArray(F.value)){if(F.value.findIndex(tt=>Ue(tt,N))===-1)F.value=[...F.value,N];else if(!$.value){const tt=F.value.filter(gt=>!Ue(gt,N));if(!tt.length){G.value=N.copy(),F.value=void 0;return}F.value=tt.map(gt=>gt.copy())}}}else{if(!F.value){F.value=N.copy();return}!$.value&&$t(F.value,N)?(G.value=N.copy(),F.value=void 0):F.value=N.copy()}}return Gt(()=>{i.value&&ll(_e.value)}),hl({isDateUnavailable:h,dir:R,isDateDisabled:f,locale:H,formatter:ir,modelValue:F,placeholder:G,disabled:n,initialFocus:i,pagedNavigation:c,grid:Zt,weekDays:Q,weekStartsOn:s,weekdayFormat:u,fixedWeeks:D,multiple:_,numberOfMonths:b,readonly:o,preventDeselect:$,fullCalendarLabel:Ce,headingValue:M,isInvalid:Xt,isDateSelected:ur,isNextButtonDisabled:x,isPrevButtonDisabled:U,isOutsideVisibleView:ie,nextPage:or,prevPage:sr,parentElement:_e,onPlaceholderChange:he,onDateChange:dr,disableDaysOutsideCurrentView:Z}),(N,Ye)=>(v(),w(l(ae),{ref_key:"primitiveElement",ref:j,as:N.as,"as-child":N.asChild,role:"application","aria-label":l(Ce),"data-readonly":l(o)?"":void 0,"data-disabled":l(n)?"":void 0,"data-invalid":l(Xt)?"":void 0,dir:l(R)},{default:d(()=>[q(N.$slots,"default",{date:l(G),grid:l(Zt),weekDays:l(Q),weekStartsOn:l(s),locale:l(H),fixedWeeks:l(D),modelValue:l(F)}),I("div",ml,[I("div",yl,L(l(Ce)),1)])]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),bl=gl,$l=S({__name:"CalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"td"}},setup(t){const e=Le();return(a,r)=>{var n,o;return v(),w(l(ae),{as:a.as,"as-child":a.asChild,role:"gridcell","aria-selected":l(e).isDateSelected(a.date)?!0:void 0,"aria-disabled":l(e).isDateDisabled(a.date)||((o=(n=l(e)).isDateUnavailable)==null?void 0:o.call(n,a.date))||l(e).disableDaysOutsideCurrentView.value,"data-disabled":l(e).isDateDisabled(a.date)||l(e).disableDaysOutsideCurrentView.value?"":void 0},{default:d(()=>[q(a.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),_l=$l;const Cl="[data-reka-calendar-cell-trigger]:not([data-outside-view]):not([data-outside-visible-view])";function St(t){return Array.from(t.querySelectorAll(Cl))??[]}var wl=S({__name:"CalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t,a=sl(),r=Le(),{primitiveElement:n,currentElement:o}=Oa(),i=P(()=>e.day.day.toLocaleString(r.locale.value)),c=P(()=>r.formatter.custom(de(e.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),s=P(()=>{var k;return((k=r.isDateUnavailable)==null?void 0:k.call(r,e.day))??!1}),u=P(()=>nn(e.day,Xe())),D=P(()=>!rn(e.day,e.month)),_=P(()=>r.isOutsideVisibleView(e.day)),g=P(()=>r.isDateDisabled(e.day)||r.disableDaysOutsideCurrentView.value&&D.value),p=P(()=>!r.disabled.value&&Ue(e.day,r.placeholder.value)),b=P(()=>r.isDateSelected(e.day));function $(k){var A;r.readonly.value||r.isDateDisabled(k)||(A=r.isDateUnavailable)!=null&&A.call(r,k)||r.onDateChange(k)}function y(){g.value||$(e.day)}function C(k){if(g.value)return;k.preventDefault(),k.stopPropagation();const A=r.parentElement.value,B=7,Y=r.dir.value==="rtl"?-1:1;switch(k.code){case a.ARROW_RIGHT:V(o.value,Y);break;case a.ARROW_LEFT:V(o.value,-Y);break;case a.ARROW_UP:V(o.value,-7);break;case a.ARROW_DOWN:V(o.value,B);break;case a.ENTER:case a.SPACE_CODE:$(e.day)}function V(X,Z){const j=St(A);if(!j.length)return;const H=j.indexOf(X)+Z;if(H>=0&&H<j.length){j[H].hasAttribute("data-disabled")&&V(j[H],Z),j[H].focus();return}if(H<0){if(r.isPrevButtonDisabled())return;r.prevPage(),ea(()=>{const R=St(A);if(!R.length)return;if(!r.pagedNavigation.value&&r.numberOfMonths.value>1){const G=ke(r.placeholder.value)-Math.abs(H);R[G].hasAttribute("data-disabled")&&V(R[G],Z),R[G].focus();return}const F=R.length-Math.abs(H);R[F].hasAttribute("data-disabled")&&V(R[F],Z),R[F].focus()});return}if(H>=j.length){if(r.isNextButtonDisabled())return;r.nextPage(),ea(()=>{const R=St(A);if(!R.length)return;if(!r.pagedNavigation.value&&r.numberOfMonths.value>1){const z=ke(r.placeholder.value.add({months:r.numberOfMonths.value-1})),G=H-j.length+(R.length-z);R[G].hasAttribute("data-disabled")&&V(R[G],Z),R[G].focus();return}const F=H-j.length;R[F].hasAttribute("data-disabled")&&V(R[F],Z),R[F].focus()})}}}return(k,A)=>(v(),w(l(ae),T({ref_key:"primitiveElement",ref:n},e,{role:"button","aria-label":c.value,"data-reka-calendar-cell-trigger":"","aria-disabled":g.value||s.value?!0:void 0,"data-selected":b.value?!0:void 0,"data-value":k.day.toString(),"data-disabled":g.value?"":void 0,"data-unavailable":s.value?"":void 0,"data-today":u.value?"":void 0,"data-outside-view":D.value?"":void 0,"data-outside-visible-view":_.value?"":void 0,"data-focused":p.value?"":void 0,tabindex:p.value?0:D.value||g.value?void 0:-1,onClick:y,onKeydown:[Et(C,["up","down","left","right","space","enter"]),A[0]||(A[0]=Et(Qe(()=>{},["prevent"]),["enter"]))]}),{default:d(()=>[q(k.$slots,"default",{dayValue:i.value,disabled:g.value,today:u.value,selected:b.value,outsideView:D.value,outsideVisibleView:_.value,unavailable:s.value},()=>[E(L(i.value),1)])]),_:3},16,["aria-label","aria-disabled","data-selected","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-outside-visible-view","data-focused","tabindex"]))}}),Dl=wl,Al=S({__name:"CalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"table"}},setup(t){const e=t,a=Le(),r=P(()=>a.disabled.value?!0:void 0),n=P(()=>a.readonly.value?!0:void 0);return(o,i)=>(v(),w(l(ae),T(e,{tabindex:"-1",role:"grid","aria-readonly":n.value,"aria-disabled":r.value,"data-readonly":n.value&&"","data-disabled":r.value&&""}),{default:d(()=>[q(o.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Ml=Al,xl=S({__name:"CalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tbody"}},setup(t){const e=t;return(a,r)=>(v(),w(l(ae),je(ze(e)),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),kl=xl,Pl=S({__name:"CalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"thead"}},setup(t){const e=t;return(a,r)=>(v(),w(l(ae),T(e,{"aria-hidden":"true"}),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),Sl=Pl,Ol=S({__name:"CalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tr"}},setup(t){const e=t;return(a,r)=>(v(),w(l(ae),je(ze(e)),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),ql=Ol,El=S({__name:"CalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"th"}},setup(t){const e=t;return(a,r)=>(v(),w(l(ae),je(ze(e)),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),Bl=El,Fl=S({__name:"CalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t;return(a,r)=>(v(),w(l(ae),je(ze(e)),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),Il=Fl,Ul=S({__name:"CalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t,a=Le();return(r,n)=>(v(),w(l(ae),T(e,{"data-disabled":l(a).disabled.value?"":void 0}),{default:d(()=>[q(r.$slots,"default",{headingValue:l(a).headingValue.value},()=>[E(L(l(a).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),Vl=Ul,Rl=S({__name:"CalendarNext",props:{nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,a=P(()=>r.disabled.value||r.isNextButtonDisabled(e.nextPage)),r=Le();return(n,o)=>(v(),w(l(ae),{as:e.as,"as-child":e.asChild,"aria-label":"Next page",type:n.as==="button"?"button":void 0,"aria-disabled":a.value||void 0,"data-disabled":a.value||void 0,disabled:a.value,onClick:o[0]||(o[0]=i=>l(r).nextPage(e.nextPage))},{default:d(()=>[q(n.$slots,"default",{disabled:a.value},()=>[o[1]||(o[1]=E(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Nl=Rl,Tl=S({__name:"CalendarPrev",props:{prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,a=P(()=>r.disabled.value||r.isPrevButtonDisabled(e.prevPage)),r=Le();return(n,o)=>(v(),w(l(ae),{"aria-label":"Previous page",as:e.as,"as-child":e.asChild,type:n.as==="button"?"button":void 0,"aria-disabled":a.value||void 0,"data-disabled":a.value||void 0,disabled:a.value,onClick:o[0]||(o[0]=i=>l(r).prevPage(e.prevPage))},{default:d(()=>[q(n.$slots,"default",{disabled:a.value},()=>[o[1]||(o[1]=E(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Gl=Tl;const[et,Ll]=qa("PopoverRoot");var Yl=S({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(t,{emit:e}){const a=t,r=e,{modal:n}=ka(a),o=Bt(a,"open",r,{defaultValue:a.defaultOpen,passive:a.open===void 0}),i=K(),c=K(!1);return Ll({contentId:"",triggerId:"",modal:n,open:o,onOpenChange:s=>{o.value=s},onOpenToggle:()=>{o.value=!o.value},triggerElement:i,hasCustomAnchor:c}),(s,u)=>(v(),w(l(mr),null,{default:d(()=>[q(s.$slots,"default",{open:l(o),close:()=>o.value=!1})]),_:3}))}}),Jl=Yl,Wl=S({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const a=t,r=e,n=ce(se(a,"trapFocus","disableOutsidePointerEvents")),{forwardRef:o}=mt(),i=et();return yr(),(c,s)=>(v(),w(l(br),{"as-child":"",loop:"",trapped:c.trapFocus,onMountAutoFocus:s[5]||(s[5]=u=>r("openAutoFocus",u)),onUnmountAutoFocus:s[6]||(s[6]=u=>r("closeAutoFocus",u))},{default:d(()=>[m(l(hr),{"as-child":"","disable-outside-pointer-events":c.disableOutsidePointerEvents,onPointerDownOutside:s[0]||(s[0]=u=>r("pointerDownOutside",u)),onInteractOutside:s[1]||(s[1]=u=>r("interactOutside",u)),onEscapeKeyDown:s[2]||(s[2]=u=>r("escapeKeyDown",u)),onFocusOutside:s[3]||(s[3]=u=>r("focusOutside",u)),onDismiss:s[4]||(s[4]=u=>l(i).onOpenChange(!1))},{default:d(()=>[m(l(gr),T(l(n),{id:l(i).contentId,ref:l(o),"data-state":l(i).open.value?"open":"closed","aria-labelledby":l(i).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:d(()=>[q(c.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),rr=Wl,Hl=S({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const a=t,r=e,n=et(),o=K(!1);$r(!0);const i=Ge(a,r),{forwardRef:c,currentElement:s}=mt();return _r(s),(u,D)=>(v(),w(rr,T(l(i),{ref:l(c),"trap-focus":l(n).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:D[0]||(D[0]=Qe(_=>{var g;r("closeAutoFocus",_),o.value||(g=l(n).triggerElement.value)==null||g.focus()},["prevent"])),onPointerDownOutside:D[1]||(D[1]=_=>{r("pointerDownOutside",_);const g=_.detail.originalEvent,p=g.button===0&&g.ctrlKey===!0,b=g.button===2||p;o.value=b}),onFocusOutside:D[2]||(D[2]=Qe(()=>{},["prevent"]))}),{default:d(()=>[q(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ql=Hl,Kl=S({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const a=t,r=e,n=et(),o=K(!1),i=K(!1),c=Ge(a,r);return(s,u)=>(v(),w(rr,T(l(c),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:u[0]||(u[0]=D=>{var _;r("closeAutoFocus",D),D.defaultPrevented||(o.value||(_=l(n).triggerElement.value)==null||_.focus(),D.preventDefault()),o.value=!1,i.value=!1}),onInteractOutside:u[1]||(u[1]=async D=>{var p;r("interactOutside",D),D.defaultPrevented||(o.value=!0,D.detail.originalEvent.type==="pointerdown"&&(i.value=!0));const _=D.target;((p=l(n).triggerElement.value)==null?void 0:p.contains(_))&&D.preventDefault(),D.detail.originalEvent.type==="focusin"&&i.value&&D.preventDefault()})}),{default:d(()=>[q(s.$slots,"default")]),_:3},16))}}),jl=Kl,zl=S({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const a=t,r=e,n=et(),o=Ge(a,r),{forwardRef:i}=mt();return n.contentId||(n.contentId=Sa(void 0,"reka-popover-content")),(c,s)=>(v(),w(l(Cr),{present:c.forceMount||l(n).open.value},{default:d(()=>[l(n).modal.value?(v(),w(Ql,T({key:0},l(o),{ref:l(i)}),{default:d(()=>[q(c.$slots,"default")]),_:3},16)):(v(),w(jl,T({key:1},l(o),{ref:l(i)}),{default:d(()=>[q(c.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Zl=zl,Xl=S({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(a,r)=>(v(),w(l(wr),je(ze(e)),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),eo=Xl,to=S({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,a=et(),{forwardRef:r,currentElement:n}=mt();return a.triggerId||(a.triggerId=Sa(void 0,"reka-popover-trigger")),Gt(()=>{a.triggerElement.value=n.value}),(o,i)=>(v(),w(Pa(l(a).hasCustomAnchor.value?l(ae):l(Dr)),{"as-child":""},{default:d(()=>[m(l(ae),{id:l(a).triggerId,ref:l(r),type:o.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":l(a).open.value,"aria-controls":l(a).contentId,"data-state":l(a).open.value?"open":"closed",as:o.as,"as-child":e.asChild,onClick:l(a).onOpenToggle},{default:d(()=>[q(o.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),ao=to;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=pr("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),no={class:"flex items-center gap-1"},lo={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},oo=S({__name:"Calendar",props:{defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},modelValue:{},multiple:{type:Boolean},disableDaysOutsideCurrentView:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:e}){const a=t,r=e,n=se(a,"class"),o=Ge(n,r);return(i,c)=>(v(),w(l(bl),T({"data-slot":"calendar",class:l(oe)("p-3",a.class)},l(o)),{default:d(({grid:s,weekDays:u})=>[m(l(vo),null,{default:d(()=>[m(l(mo)),I("div",no,[m(l(ho)),m(l(yo))])]),_:1}),I("div",lo,[(v(!0),O(ne,null,le(s,D=>(v(),w(l(uo),{key:D.value.toString()},{default:d(()=>[m(l(fo),null,{default:d(()=>[m(l(xa),null,{default:d(()=>[(v(!0),O(ne,null,le(u,_=>(v(),w(l(po),{key:_},{default:d(()=>[E(L(_),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),m(l(co),null,{default:d(()=>[(v(!0),O(ne,null,le(D.rows,(_,g)=>(v(),w(l(xa),{key:`weekDate-${g}`,class:"mt-2 w-full"},{default:d(()=>[(v(!0),O(ne,null,le(_,p=>(v(),w(l(so),{key:p.toString(),date:p},{default:d(()=>[m(l(io),{day:p,month:D.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),so=S({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(_l),T({"data-slot":"calendar-cell",class:l(oe)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent",e.class)},l(r)),{default:d(()=>[q(n.$slots,"default")]),_:3},16,["class"]))}}),io=S({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"button"},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(Dl),T({"data-slot":"calendar-cell-trigger",class:l(oe)(l(Lt)({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100 cursor-default","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-view]:text-muted-foreground",e.class)},l(r)),{default:d(()=>[q(n.$slots,"default")]),_:3},16,["class"]))}}),uo=S({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(Ml),T({"data-slot":"calendar-grid",class:l(oe)("w-full border-collapse space-x-1",e.class)},l(r)),{default:d(()=>[q(n.$slots,"default")]),_:3},16,["class"]))}}),co=S({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(a,r)=>(v(),w(l(kl),T({"data-slot":"calendar-grid-body"},e),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),fo=S({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t;return(a,r)=>(v(),w(l(Sl),T({"data-slot":"calendar-grid-head"},e),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),xa=S({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(ql),T({"data-slot":"calendar-grid-row",class:l(oe)("flex",e.class)},l(r)),{default:d(()=>[q(n.$slots,"default")]),_:3},16,["class"]))}}),po=S({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(Bl),T({"data-slot":"calendar-head-cell",class:l(oe)("text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",e.class)},l(r)),{default:d(()=>[q(n.$slots,"default")]),_:3},16,["class"]))}}),vo=S({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(Il),T({"data-slot":"calendar-header",class:l(oe)("flex justify-center pt-1 relative items-center w-full",e.class)},l(r)),{default:d(()=>[q(n.$slots,"default")]),_:3},16,["class"]))}}),mo=S({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(Vl),T({"data-slot":"calendar-heading",class:l(oe)("text-sm font-medium",e.class)},l(r)),{default:d(({headingValue:i})=>[q(n.$slots,"default",{headingValue:i},()=>[E(L(i),1)])]),_:3},16,["class"]))}}),yo=S({__name:"CalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(Nl),T({"data-slot":"calendar-next-button",class:l(oe)(l(Lt)({variant:"outline"}),"absolute right-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)},l(r)),{default:d(()=>[q(n.$slots,"default",{},()=>[m(l(Rr),{class:"size-4"})])]),_:3},16,["class"]))}}),ho=S({__name:"CalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,a=se(e,"class"),r=ce(a);return(n,o)=>(v(),w(l(Gl),T({"data-slot":"calendar-prev-button",class:l(oe)(l(Lt)({variant:"outline"}),"absolute left-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)},l(r)),{default:d(()=>[q(n.$slots,"default",{},()=>[m(l(ro),{class:"size-4"})])]),_:3},16,["class"]))}}),go=S({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const n=Ge(t,e);return(o,i)=>(v(),w(l(Jl),T({"data-slot":"popover"},l(n)),{default:d(()=>[q(o.$slots,"default")]),_:3},16))}}),bo=S({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const a=t,r=e,n=se(a,"class"),o=Ge(n,r);return(i,c)=>(v(),w(l(eo),null,{default:d(()=>[m(l(Zl),T({"data-slot":"popover-content"},{...l(o),...i.$attrs},{class:l(oe)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md origin-(--reka-popover-content-transform-origin) outline-hidden",a.class)}),{default:d(()=>[q(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),$o=S({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(a,r)=>(v(),w(l(ao),T({"data-slot":"popover-trigger"},e),{default:d(()=>[q(a.$slots,"default")]),_:3},16))}}),Ot=S({__name:"DatePicker",props:{modelValue:{},placeholder:{default:"Seleccionar fecha"},disabled:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,r=e,n=P({get:()=>a.modelValue?a.modelValue instanceof Date?a.modelValue:new Date(a.modelValue):null,set:i=>{r("update:modelValue",i)}}),o=P(()=>n.value?Kr(n.value,"PPP",{locale:ra}):a.placeholder);return(i,c)=>(v(),w(l(go),null,{default:d(()=>[m(l($o),{"as-child":""},{default:d(()=>[m(l(ee),{variant:"outline",class:ut(l(oe)("w-full justify-start text-left font-normal",!n.value&&"text-muted-foreground",a.class)),disabled:i.disabled},{default:d(()=>[m(l(Ar),{class:"mr-2 h-4 w-4"}),E(" "+L(o.value),1)]),_:1},8,["class","disabled"])]),_:1}),m(l(bo),{class:"w-auto p-0",align:"start"},{default:d(()=>[m(l(oo),{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=s=>n.value=s),"initial-focus":"",locale:l(ra)},null,8,["modelValue","locale"])]),_:1})]),_:1}))}}),_o={class:"relative"},Co={class:"flex items-center gap-2"},wo={key:0,class:"px-2 py-1.5 text-sm text-muted-foreground"},Do={key:0,class:"mt-1 text-sm text-destructive"},Ao=S({__name:"CascadeSelect",props:{modelValue:{},field:{},parentValue:{},disabled:{type:Boolean}},emits:["update:modelValue","options-loaded"],setup(t,{emit:e}){const a=t,r=e,n=K([]),o=K(!1),i=K(null),c=new Map,s=P(()=>!!(a.disabled||a.field.cascadeFrom&&!a.parentValue)),u=P(()=>o.value?"Cargando...":i.value?"Error al cargar opciones":s.value&&a.field.cascadeFrom?`Seleccione ${a.field.cascadeFrom.split("_")[0]} primero`:a.field.placeholder||"Seleccionar..."),D=async()=>{if(!a.field.cascadeEndpoint){a.field.options&&(n.value=a.field.options);return}if(a.field.cascadeFrom&&!a.parentValue){n.value=[],r("update:modelValue",null);return}const g=a.field.cascadeFrom?`${a.field.cascadeEndpoint}:${a.parentValue}`:a.field.cascadeEndpoint;if(a.field.cacheOptions!==!1&&c.has(g)){n.value=c.get(g);return}o.value=!0,i.value=null;try{const p=new URL(a.field.cascadeEndpoint);if(a.field.cascadeFrom&&a.parentValue){const C=a.field.cascadeParam||`${a.field.cascadeFrom}`;p.searchParams.append(C,a.parentValue)}const b=await fetch(p.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!b.ok)throw new Error(`Error ${b.status}: ${b.statusText}`);const $=await b.json();let y=[];Array.isArray($)?y=$.map(C=>({value:C.id||C.value,label:C.nombre||C.label||C.name,disabled:C.disabled||!1})):$.data&&Array.isArray($.data)?y=$.data.map(C=>({value:C.id||C.value,label:C.nombre||C.label||C.name,disabled:C.disabled||!1})):(console.warn("Formato de respuesta no reconocido:",$),y=[]),n.value=y,a.field.cacheOptions!==!1&&c.set(g,y),r("options-loaded",y),a.modelValue&&!y.find(C=>C.value===a.modelValue)&&r("update:modelValue",null)}catch(p){console.error("Error cargando opciones:",p),i.value=p instanceof Error?p.message:"Error desconocido",n.value=[]}finally{o.value=!1}},_=g=>{r("update:modelValue",g)};return Me(()=>a.parentValue,(g,p)=>{g!==p&&D()}),Gt(()=>{(!a.field.cascadeFrom||a.parentValue||a.field.loadOnMount)&&D()}),Me(()=>a.field.cascadeEndpoint,()=>{a.field.cascadeEndpoint&&D()}),(g,p)=>(v(),O("div",_o,[m(l(Ee),{"model-value":g.modelValue,"onUpdate:modelValue":_,disabled:s.value||o.value},{default:d(()=>[m(l(Se),null,{default:d(()=>[I("div",Co,[o.value?(v(),w(l(jr),{key:0,class:"h-4 w-4 animate-spin"})):J("",!0),m(l(Oe),{placeholder:u.value},null,8,["placeholder"])])]),_:1}),m(l(qe),null,{default:d(()=>[(v(!0),O(ne,null,le(n.value,b=>(v(),w(l(be),{key:b.value,value:b.value,disabled:b.disabled},{default:d(()=>[E(L(b.label),1)]),_:2},1032,["value","disabled"]))),128)),n.value.length===0&&!o.value?(v(),O("div",wo,L(i.value?"Error al cargar opciones":"Sin opciones disponibles"),1)):J("",!0)]),_:1})]),_:1},8,["model-value","disabled"]),i.value&&!o.value?(v(),O("p",Do,L(i.value),1)):J("",!0)]))}}),Mo={class:"flex items-center gap-2"},xo={key:0,class:"flex-1"},ko={key:0,class:"flex items-center gap-2"},Po={class:"flex-1"},So={class:"flex-1"},Oo={key:1},qo={key:1,class:"flex-1 text-muted-foreground text-sm px-3"},Eo=S({__name:"FilterCondition",props:{condition:{},fields:{},onUpdate:{type:Function},onRemove:{type:Function},allConditions:{}},setup(t){const e=t,a=P(()=>e.fields.find(p=>p.name===(e.condition.field||e.condition.name))),r=P(()=>{var p;return((p=a.value)==null?void 0:p.type)||"text"}),n=P(()=>{var b;if(!((b=a.value)!=null&&b.cascadeFrom)||!e.allConditions)return null;const p=e.allConditions.find($=>{var y,C;return($.field===((y=a.value)==null?void 0:y.cascadeFrom)||$.name===((C=a.value)==null?void 0:C.cascadeFrom))&&$.id!==e.condition.id});return(p==null?void 0:p.value)||null}),o=P(()=>{var b;return(b=a.value)!=null&&b.operators?a.value.operators:{text:["equals","not_equals","contains","not_contains","starts_with","ends_with","is_empty","is_not_empty"],number:["equals","not_equals","greater_than","less_than","greater_or_equal","less_or_equal","between","is_empty","is_not_empty"],date:["equals","not_equals","greater_than","less_than","greater_or_equal","less_or_equal","between","is_empty","is_not_empty"],datetime:["equals","not_equals","greater_than","less_than","greater_or_equal","less_or_equal","between","is_empty","is_not_empty"],select:["equals","not_equals","is_empty","is_not_empty"],"select-cascade":["equals","not_equals","is_empty","is_not_empty"],multiselect:["in","not_in","is_empty","is_not_empty"],boolean:["equals"]}[r.value]||["equals"]}),i={equals:"Es igual a",not_equals:"No es igual a",contains:"Contiene",not_contains:"No contiene",starts_with:"Empieza con",ends_with:"Termina con",is_empty:"Está vacío",is_not_empty:"No está vacío",greater_than:"Mayor que",less_than:"Menor que",greater_or_equal:"Mayor o igual que",less_or_equal:"Menor o igual que",between:"Entre",in:"En lista",not_in:"No en lista"},c=P(()=>!["is_empty","is_not_empty"].includes(e.condition.operator)),s=P(()=>e.condition.operator==="between"),u=p=>{const b=e.fields.find($=>$.name===p);b&&e.onUpdate({...e.condition,field:p,name:p,operator:o.value[0],value:b.defaultValue||null})},D=p=>{e.onUpdate({...e.condition,operator:p,value:["is_empty","is_not_empty"].includes(p)?null:e.condition.value})},_=p=>{e.onUpdate({...e.condition,value:p})},g=(p,b)=>{const $=Array.isArray(e.condition.value)?[...e.condition.value]:[null,null];$[p]=b,e.onUpdate({...e.condition,value:$})};return(p,b)=>{var $,y,C,k;return v(),O("div",Mo,[m(l(Ee),{"model-value":p.condition.field||p.condition.name,"onUpdate:modelValue":u},{default:d(()=>[m(l(Se),{class:"w-[200px]"},{default:d(()=>[m(l(Oe),{placeholder:"Seleccionar campo..."})]),_:1}),m(l(qe),null,{default:d(()=>[(v(!0),O(ne,null,le(p.fields,A=>(v(),w(l(be),{key:A.name,value:A.name},{default:d(()=>[E(L(A.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),m(l(Ee),{"model-value":p.condition.operator,"onUpdate:modelValue":D,disabled:!p.condition.field&&!p.condition.name},{default:d(()=>[m(l(Se),{class:"w-[180px]"},{default:d(()=>[m(l(Oe),{placeholder:"Seleccionar operador..."})]),_:1}),m(l(qe),null,{default:d(()=>[(v(!0),O(ne,null,le(o.value,A=>(v(),w(l(be),{key:A,value:A},{default:d(()=>[E(L(i[A]),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),c.value?(v(),O("div",xo,[s.value?(v(),O("div",ko,[I("div",Po,[r.value==="text"?(v(),w(l(pe),{key:0,"model-value":Array.isArray(p.condition.value)?p.condition.value[0]:"","onUpdate:modelValue":b[0]||(b[0]=A=>g(0,A)),placeholder:(($=a.value)==null?void 0:$.placeholder)||"Desde..."},null,8,["model-value","placeholder"])):r.value==="number"?(v(),w(l(pe),{key:1,type:"number","model-value":Array.isArray(p.condition.value)?p.condition.value[0]:"","onUpdate:modelValue":b[1]||(b[1]=A=>g(0,A)),placeholder:"Desde..."},null,8,["model-value"])):r.value==="date"?(v(),w(Ot,{key:2,"model-value":Array.isArray(p.condition.value)?p.condition.value[0]:null,"onUpdate:modelValue":b[2]||(b[2]=A=>g(0,A))},null,8,["model-value"])):r.value==="datetime"?(v(),w(bt,{key:3,"model-value":Array.isArray(p.condition.value)?p.condition.value[0]:null,"onUpdate:modelValue":b[3]||(b[3]=A=>g(0,A))},null,8,["model-value"])):J("",!0)]),b[8]||(b[8]=I("span",{class:"text-muted-foreground"},"y",-1)),I("div",So,[r.value==="text"?(v(),w(l(pe),{key:0,"model-value":Array.isArray(p.condition.value)?p.condition.value[1]:"","onUpdate:modelValue":b[4]||(b[4]=A=>g(1,A)),placeholder:((y=a.value)==null?void 0:y.placeholder)||"Hasta..."},null,8,["model-value","placeholder"])):r.value==="number"?(v(),w(l(pe),{key:1,type:"number","model-value":Array.isArray(p.condition.value)?p.condition.value[1]:"","onUpdate:modelValue":b[5]||(b[5]=A=>g(1,A)),placeholder:"Hasta..."},null,8,["model-value"])):r.value==="date"?(v(),w(Ot,{key:2,"model-value":Array.isArray(p.condition.value)?p.condition.value[1]:null,"onUpdate:modelValue":b[6]||(b[6]=A=>g(1,A))},null,8,["model-value"])):r.value==="datetime"?(v(),w(bt,{key:3,"model-value":Array.isArray(p.condition.value)?p.condition.value[1]:null,"onUpdate:modelValue":b[7]||(b[7]=A=>g(1,A))},null,8,["model-value"])):J("",!0)])])):(v(),O("div",Oo,[r.value==="text"?(v(),w(l(pe),{key:0,"model-value":p.condition.value||"","onUpdate:modelValue":_,placeholder:((C=a.value)==null?void 0:C.placeholder)||"Ingrese un valor..."},null,8,["model-value","placeholder"])):r.value==="number"?(v(),w(l(pe),{key:1,type:"number","model-value":p.condition.value||"","onUpdate:modelValue":_,placeholder:((k=a.value)==null?void 0:k.placeholder)||"Ingrese un número..."},null,8,["model-value","placeholder"])):r.value==="date"?(v(),w(Ot,{key:2,"model-value":p.condition.value,"onUpdate:modelValue":_},null,8,["model-value"])):r.value==="datetime"?(v(),w(bt,{key:3,"model-value":p.condition.value,"onUpdate:modelValue":_},null,8,["model-value"])):r.value==="select"?(v(),w(l(Ee),{key:4,"model-value":p.condition.value,"onUpdate:modelValue":_},{default:d(()=>[m(l(Se),null,{default:d(()=>{var A;return[m(l(Oe),{placeholder:((A=a.value)==null?void 0:A.placeholder)||"Seleccionar..."},null,8,["placeholder"])]}),_:1}),m(l(qe),null,{default:d(()=>{var A;return[(v(!0),O(ne,null,le(((A=a.value)==null?void 0:A.options)||[],B=>(v(),w(l(be),{key:B.value,value:B.value,disabled:B.disabled},{default:d(()=>[E(L(B.label),1)]),_:2},1032,["value","disabled"]))),128))]}),_:1})]),_:1},8,["model-value"])):r.value==="select-cascade"&&a.value?(v(),w(Ao,{key:5,"model-value":p.condition.value,"onUpdate:modelValue":_,field:a.value,"parent-value":n.value},null,8,["model-value","field","parent-value"])):r.value==="boolean"?(v(),w(l(Ee),{key:6,"model-value":p.condition.value,"onUpdate:modelValue":_},{default:d(()=>[m(l(Se),null,{default:d(()=>[m(l(Oe),{placeholder:"Seleccionar..."})]),_:1}),m(l(qe),null,{default:d(()=>[m(l(be),{value:!0},{default:d(()=>b[9]||(b[9]=[E("Sí")])),_:1}),m(l(be),{value:!1},{default:d(()=>b[10]||(b[10]=[E("No")])),_:1})]),_:1})]),_:1},8,["model-value"])):J("",!0)]))])):(v(),O("div",qo," (sin valor) ")),m(l(ee),{type:"button",variant:"ghost",size:"sm",onClick:p.onRemove,class:"text-destructive hover:text-destructive"},{default:d(()=>[m(l(Ft),{class:"h-4 w-4"})]),_:1},8,["onClick"])])}}}),Bo={class:"flex items-center justify-between mb-3"},Fo={class:"flex items-center gap-2"},Io={key:0,class:"text-xs text-muted-foreground"},Uo={key:0,class:"space-y-2 mb-3"},Vo={key:1,class:"space-y-3 mb-3"},Ro={class:"flex items-start gap-2"},No={class:"flex-1"},To={key:2,class:"text-center py-8 text-muted-foreground"},Go={class:"flex gap-2"},Lo=S({__name:"FilterGroup",props:{group:{},fields:{},level:{default:0},maxNestingLevel:{default:3},onUpdateCondition:{},onRemoveCondition:{},onAddCondition:{},onUpdateOperator:{},onAddGroup:{},onRemoveGroup:{},isRoot:{type:Boolean,default:!1}},setup(t){const e=t,a=P(()=>e.level<e.maxNestingLevel&&e.onAddGroup),r=P(()=>e.group.conditions.length>0),n=P(()=>e.group.groups&&e.group.groups.length>0),o=P(()=>!r.value&&!n.value),i=P(()=>["","bg-muted/20","bg-muted/40","bg-muted/60"][e.level]||"bg-muted/80"),c=P(()=>["border-border","border-blue-200 dark:border-blue-800","border-purple-200 dark:border-purple-800","border-green-200 dark:border-green-800"][e.level]||"border-gray-200 dark:border-gray-800");return(s,u)=>{const D=cr("FilterGroup",!0);return v(),w(l(lt),{class:ut(["relative",i.value,c.value,{"border-2":s.level>0}])},{default:d(()=>[m(l(nt),{class:"p-4"},{default:d(()=>[I("div",Bo,[I("div",Fo,[m(l(Ee),{"model-value":s.group.operator,"onUpdate:modelValue":s.onUpdateOperator,disabled:s.group.conditions.length<2&&(!s.group.groups||s.group.groups.length===0)},{default:d(()=>[m(l(Se),{class:"w-[100px] font-semibold"},{default:d(()=>[m(l(Oe))]),_:1}),m(l(qe),null,{default:d(()=>[m(l(be),{value:"AND"},{default:d(()=>u[6]||(u[6]=[E("Y")])),_:1}),m(l(be),{value:"OR"},{default:d(()=>u[7]||(u[7]=[E("O")])),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","disabled"]),s.level>0?(v(),O("span",Io," Nivel "+L(s.level),1)):J("",!0)]),!s.isRoot&&s.onRemoveGroup?(v(),w(l(ee),{key:0,type:"button",variant:"ghost",size:"sm",onClick:s.onRemoveGroup,class:"text-destructive hover:text-destructive"},{default:d(()=>[m(l(Ea),{class:"h-4 w-4"})]),_:1},8,["onClick"])):J("",!0)]),r.value?(v(),O("div",Uo,[(v(!0),O(ne,null,le(s.group.conditions,_=>(v(),w(Eo,{key:_.id,condition:_,fields:s.fields,"all-conditions":s.group.conditions,"on-update":g=>s.onUpdateCondition(_.id,g),"on-remove":()=>s.onRemoveCondition(_.id)},null,8,["condition","fields","all-conditions","on-update","on-remove"]))),128))])):J("",!0),n.value?(v(),O("div",Vo,[(v(!0),O(ne,null,le(s.group.groups,_=>(v(),O("div",{key:_.id,class:"ml-4"},[I("div",Ro,[I("div",{class:ut(["w-8 mt-6 border-t-2 border-dashed",c.value])},null,2),I("div",No,[m(D,{group:_,fields:s.fields,level:s.level+1,"max-nesting-level":s.maxNestingLevel,"on-update-condition":(g,p)=>s.$emit("update-subgroup-condition",g,p,_.id),"on-remove-condition":g=>s.$emit("remove-subgroup-condition",g,_.id),"on-add-condition":()=>s.$emit("add-subgroup-condition",_.id),"on-update-operator":g=>s.$emit("update-subgroup-operator",_.id,g),"on-add-group":a.value?()=>s.$emit("add-subgroup",_.id):void 0,"on-remove-group":()=>s.$emit("remove-subgroup",_.id,s.group.id),onUpdateSubgroupCondition:u[0]||(u[0]=(g,p,b)=>s.$emit("update-subgroup-condition",g,p,b)),onRemoveSubgroupCondition:u[1]||(u[1]=(g,p)=>s.$emit("remove-subgroup-condition",g,p)),onAddSubgroupCondition:u[2]||(u[2]=g=>s.$emit("add-subgroup-condition",g)),onUpdateSubgroupOperator:u[3]||(u[3]=(g,p)=>s.$emit("update-subgroup-operator",g,p)),onAddSubgroup:u[4]||(u[4]=g=>s.$emit("add-subgroup",g)),onRemoveSubgroup:u[5]||(u[5]=(g,p)=>s.$emit("remove-subgroup",g,p))},null,8,["group","fields","level","max-nesting-level","on-update-condition","on-remove-condition","on-add-condition","on-update-operator","on-add-group","on-remove-group"])])])]))),128))])):J("",!0),o.value?(v(),O("div",To,u[8]||(u[8]=[I("p",{class:"text-sm mb-2"},"No hay condiciones definidas",-1),I("p",{class:"text-xs"},"Agrega una condición para comenzar a filtrar",-1)]))):J("",!0),I("div",Go,[m(l(ee),{type:"button",variant:"outline",size:"sm",onClick:s.onAddCondition},{default:d(()=>[m(l(na),{class:"h-4 w-4 mr-2"}),E(" "+L(s.group.operator==="AND"?"Y...":"O...")+" (Añadir condición) ",1)]),_:1},8,["onClick"]),a.value?(v(),w(l(ee),{key:0,type:"button",variant:"outline",size:"sm",onClick:s.onAddGroup},{default:d(()=>[m(l(na),{class:"h-4 w-4 mr-2"}),E(" "+L(s.group.operator==="AND"?"O...":"Y...")+" (Añadir nuevo grupo de filtros) ",1)]),_:1},8,["onClick"])):J("",!0)])]),_:1})]),_:1},8,["class"])}}});function qt(t="AND"){return{id:crypto.randomUUID(),operator:t,conditions:[],groups:[]}}function Yo(t){return{id:crypto.randomUUID(),field:t||null,operator:"equals",value:null}}function Jo(t){const e={};return t.quickSearch&&(e.search=t.quickSearch),(t.rootGroup.conditions.length>0||t.rootGroup.groups&&t.rootGroup.groups.length>0)&&(e.advanced_filters=JSON.stringify(nr(t.rootGroup))),e}function nr(t){var e;return{operator:t.operator,conditions:t.conditions.map(a=>({field:a.field,operator:a.operator,value:a.value})),groups:((e=t.groups)==null?void 0:e.map(a=>nr(a)))||[]}}function Wo(t){return!!(t.quickSearch||t.rootGroup.conditions.length>0||t.rootGroup.groups&&t.rootGroup.groups.length>0)}function lr(t){let e=t.conditions.length;if(t.groups)for(const a of t.groups)e+=lr(a);return e}function Ho(t){const{config:e,route:a,routeParams:r={},onApply:n,preserveScroll:o=!0,preserveState:i=!0,initialFilters:c={}}=t,s=M=>{var f,h;return{...M,id:M.id||crypto.randomUUID(),conditions:((f=M.conditions)==null?void 0:f.map(x=>({...x,id:x.id||crypto.randomUUID(),field:x.field||x.name,name:x.name||x.field})))||[],groups:((h=M.groups)==null?void 0:h.map(s))||[]}},u=K({quickSearch:c.quickSearch||"",rootGroup:c.rootGroup?s(c.rootGroup):qt(),isExpanded:c.isExpanded||!1,hasChanges:!1}),D=K([]),_=K(!1),g=K(null),p=P(()=>Wo(u.value)),b=P(()=>lr(u.value.rootGroup)),$=P(()=>Jo(u.value)),y=M=>{const f=M?z(u.value.rootGroup,M):u.value.rootGroup;if(f){const h=e.fields[0],x=Yo(h==null?void 0:h.name);f.conditions||(f.conditions=[]),f.conditions.push(x),u.value.hasChanges=!0}},C=(M,f)=>{const h=x=>{const U=x.conditions.findIndex(Q=>Q.id===M);if(U!==-1)return x.conditions.splice(U,1),!0;if(x.groups){for(const Q of x.groups)if(h(Q))return!0}return!1};if(f){const x=z(u.value.rootGroup,f);x&&(x.conditions=x.conditions.filter(U=>U.id!==M),u.value.hasChanges=!0)}else h(u.value.rootGroup),u.value.hasChanges=!0},k=(M,f,h)=>{const x=U=>{const Q=U.conditions.findIndex(ie=>ie.id===M);if(Q!==-1){const ie={...U.conditions[Q],...f};return(f.field||f.name)&&(ie.field=f.field||f.name,ie.name=f.name||f.field),U.conditions[Q]=ie,!0}if(U.groups){for(const ie of U.groups)if(x(ie))return!0}return!1};if(h){const U=z(u.value.rootGroup,h);if(U){const Q=U.conditions.find(ie=>ie.id===M);Q&&(Object.assign(Q,f),u.value.hasChanges=!0)}}else x(u.value.rootGroup),u.value.hasChanges=!0},A=(M,f="AND")=>{const h=M?z(u.value.rootGroup,M):u.value.rootGroup;if(h){h.groups||(h.groups=[]);const x=qt(f);h.groups.push(x),u.value.hasChanges=!0}},B=(M,f)=>{if(!f&&M===u.value.rootGroup.id){u.value.rootGroup.conditions=[],u.value.rootGroup.groups=[],u.value.hasChanges=!0;return}const h=x=>{if(x.groups){const U=x.groups.findIndex(Q=>Q.id===M);if(U!==-1)return x.groups.splice(U,1),!0;for(const Q of x.groups)if(h(Q))return!0}return!1};if(f){const x=z(u.value.rootGroup,f);if(x&&x.groups){const U=x.groups.findIndex(Q=>Q.id===M);U!==-1&&(x.groups.splice(U,1),u.value.hasChanges=!0)}}else h(u.value.rootGroup),u.value.hasChanges=!0},Y=(M,f)=>{const h=z(u.value.rootGroup,M);h&&(h.operator=f,u.value.hasChanges=!0)},V=()=>{_.value=!0;const M=$.value;if(!a){n&&n(M),_.value=!1,u.value.hasChanges=!1;return}fr.get(a,{...r,...M},{preserveScroll:o,preserveState:i,onFinish:()=>{_.value=!1,u.value.hasChanges=!1}})},X=e.debounceTime?vr(V,e.debounceTime):V,Z=()=>{u.value.quickSearch="",u.value.rootGroup=qt(),u.value.hasChanges=!1,V()},j=()=>{u.value.isExpanded=!u.value.isExpanded},_e=async(M,f)=>{const h={id:crypto.randomUUID(),name:M,description:f,filter:JSON.parse(JSON.stringify(u.value.rootGroup)),createdAt:new Date},x=localStorage.getItem(`filters_${a}`),U=x?JSON.parse(x):[];return U.push(h),localStorage.setItem(`filters_${a}`,JSON.stringify(U)),D.value=U,h},H=M=>{const f=D.value.find(h=>h.id===M);f&&(u.value.rootGroup=JSON.parse(JSON.stringify(f.filter)),u.value.hasChanges=!0,e.autoApply&&X())},R=M=>{D.value=D.value.filter(f=>f.id!==M),localStorage.setItem(`filters_${a}`,JSON.stringify(D.value))},F=()=>{const M=localStorage.getItem(`filters_${a}`);M&&(D.value=JSON.parse(M))},z=(M,f)=>{if(M.id===f)return M;if(M.groups)for(const h of M.groups){const x=z(h,f);if(x)return x}return null},G=M=>e.fields.find(f=>f.name===M),he=M=>{const f=G(M.field);if(!f)return"Campo no válido";if(f.validate){const h=f.validate(M.value);if(h!==!0)return h}return f.required&&!M.value?"Este campo es requerido":!0},Ce=()=>{const M=f=>{for(const h of f.conditions)if(he(h)!==!0)return!1;if(f.groups){for(const h of f.groups)if(!M(h))return!1}return!0};return M(u.value.rootGroup)};return e.autoApply&&(Me(()=>u.value.quickSearch,()=>{u.value.hasChanges=!0,X()}),Me(()=>u.value.rootGroup,()=>{u.value.hasChanges&&X()},{deep:!0})),F(),{state:u,savedFilters:D,isLoading:_,resultCount:g,hasFilters:p,activeConditionsCount:b,currentQueryParams:$,addCondition:y,removeCondition:C,updateCondition:k,addGroup:A,removeGroup:B,updateGroupOperator:Y,applyFilters:V,clearFilters:Z,toggleExpanded:j,saveAsPreset:_e,loadPreset:H,deletePreset:R,getField:G,validateCondition:he,validateFilters:Ce}}const Qo={class:"space-y-4"},Ko={class:"flex items-center gap-2"},jo={key:0,class:"relative flex-1 max-w-md"},zo={key:1,class:"flex items-center gap-2"},Zo={key:0,class:"p-2 text-sm text-muted-foreground text-center"},Xo={class:"flex-1"},es={class:"font-medium"},ts={key:0,class:"text-xs text-muted-foreground"},as={class:"text-xs text-muted-foreground"},rs={class:"space-y-4 py-4"},ns={key:0,class:"mb-4"},ls={class:"flex items-center justify-between mt-6 pt-4 border-t"},os={class:"text-sm text-muted-foreground"},ss={key:0},is={key:1},us={class:"flex items-center gap-2"},ds={key:0,class:"fixed bottom-4 right-4 z-50"},Ss=S({__name:"AdvancedFilters",props:{config:{},route:{},routeParams:{default:()=>({})},preserveScroll:{type:Boolean,default:!0},preserveState:{type:Boolean,default:!0},initialFilters:{}},emits:["apply","clear"],setup(t,{emit:e}){const a=t,r=e,{state:n,savedFilters:o,isLoading:i,hasFilters:c,activeConditionsCount:s,addCondition:u,removeCondition:D,updateCondition:_,addGroup:g,removeGroup:p,updateGroupOperator:b,applyFilters:$,clearFilters:y,toggleExpanded:C,saveAsPreset:k,loadPreset:A,deletePreset:B,validateFilters:Y}=Ho({config:a.config,route:a.route,routeParams:a.routeParams,onApply:M=>r("apply",M),preserveScroll:a.preserveScroll,preserveState:a.preserveState,initialFilters:a.initialFilters}),V=K(!1),X=K(""),Z=K(""),j=K([]),_e=P(()=>a.config.quickSearchPlaceholder||"Buscar..."),H=P(()=>a.config.showQuickSearch!==!1),R=P(()=>n.value.isExpanded?"Ocultar filtros avanzados":"Filtros avanzados"),F=P(()=>n.value.isExpanded?Mr:xr),z=()=>{j.value=[],Y()?$():j.value.push("Por favor corrige los errores en los filtros antes de aplicar.")},G=()=>{y(),r("clear")},he=async()=>{X.value&&(await k(X.value,Z.value),X.value="",Z.value="",V.value=!1)},Ce=M=>new Date(M).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(M,f)=>(v(),O("div",Qo,[m(l(lt),null,{default:d(()=>[m(l(nt),{class:"p-4"},{default:d(()=>[I("div",Ko,[H.value?(v(),O("div",jo,[m(l(zr),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),m(l(pe),{modelValue:l(n).quickSearch,"onUpdate:modelValue":f[0]||(f[0]=h=>l(n).quickSearch=h),placeholder:_e.value,class:"pl-10",onKeyup:Et(z,["enter"])},null,8,["modelValue","placeholder"])])):J("",!0),m(l(ee),{type:"button",variant:"outline",onClick:l(C),class:ut({"bg-primary text-primary-foreground":l(n).isExpanded})},{default:d(()=>[m(l(Zr),{class:"h-4 w-4 mr-2"}),E(" "+L(R.value)+" ",1),(v(),w(Pa(F.value),{class:"h-4 w-4 ml-2"})),l(s)>0?(v(),w(l(kr),{key:0,variant:"secondary",class:"ml-2"},{default:d(()=>[E(L(l(s)),1)]),_:1})):J("",!0)]),_:1},8,["onClick","class"]),l(c)?(v(),O("div",zo,[m(l(ee),{type:"button",variant:"default",size:"sm",onClick:z,disabled:l(i)||!l(n).hasChanges},{default:d(()=>[m(l(la),{class:"h-4 w-4 mr-2"}),f[13]||(f[13]=E(" Aplicar "))]),_:1},8,["disabled"]),m(l(ee),{type:"button",variant:"outline",size:"sm",onClick:G,disabled:l(i)},{default:d(()=>[m(l(Ft),{class:"h-4 w-4 mr-2"}),f[14]||(f[14]=E(" Limpiar "))]),_:1},8,["disabled"])])):J("",!0),M.config.allowSaveFilters!==!1?(v(),w(l(Lr),{key:2},{default:d(()=>[m(l(Nr),{asChild:""},{default:d(()=>[m(l(ee),{type:"button",variant:"outline",size:"icon"},{default:d(()=>[m(l(Xr),{class:"h-4 w-4"})]),_:1})]),_:1}),m(l(Tr),{align:"end",class:"w-[250px]"},{default:d(()=>[m(l(Gr),null,{default:d(()=>f[15]||(f[15]=[E("Filtros Guardados")])),_:1}),m(l(ta)),l(o).length===0?(v(),O("div",Zo," No hay filtros guardados ")):J("",!0),(v(!0),O(ne,null,le(l(o),h=>(v(),w(l(aa),{key:h.id,onClick:x=>l(A)(h.id),class:"flex items-center justify-between"},{default:d(()=>[I("div",Xo,[I("div",es,L(h.name),1),h.description?(v(),O("div",ts,L(h.description),1)):J("",!0),I("div",as,L(Ce(h.createdAt)),1)]),m(l(ee),{type:"button",variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onClick:Qe(x=>l(B)(h.id),["stop"])},{default:d(()=>[m(l(Ea),{class:"h-3 w-3"})]),_:2},1032,["onClick"])]),_:2},1032,["onClick"]))),128)),m(l(ta)),m(l(Pr),{open:V.value,"onUpdate:open":f[5]||(f[5]=h=>V.value=h)},{default:d(()=>[m(l(Wr),{asChild:""},{default:d(()=>[m(l(aa),{onClick:f[1]||(f[1]=Qe(h=>V.value=!0,["prevent"])),disabled:!l(c)},{default:d(()=>[m(l(en),{class:"h-4 w-4 mr-2"}),f[16]||(f[16]=E(" Guardar filtro actual "))]),_:1},8,["disabled"])]),_:1}),m(l(Sr),null,{default:d(()=>[m(l(Or),null,{default:d(()=>[m(l(qr),null,{default:d(()=>f[17]||(f[17]=[E("Guardar Filtro")])),_:1}),m(l(Er),null,{default:d(()=>f[18]||(f[18]=[E(" Guarda la configuración actual de filtros para reutilizarla más tarde. ")])),_:1})]),_:1}),I("div",rs,[I("div",null,[f[19]||(f[19]=I("label",{class:"text-sm font-medium"},"Nombre",-1)),m(l(pe),{modelValue:X.value,"onUpdate:modelValue":f[2]||(f[2]=h=>X.value=h),placeholder:"Ej: Usuarios activos de Lima",class:"mt-1"},null,8,["modelValue"])]),I("div",null,[f[20]||(f[20]=I("label",{class:"text-sm font-medium"},"Descripción (opcional)",-1)),m(l(pe),{modelValue:Z.value,"onUpdate:modelValue":f[3]||(f[3]=h=>Z.value=h),placeholder:"Describe este filtro...",class:"mt-1"},null,8,["modelValue"])])]),m(l(Br),null,{default:d(()=>[m(l(ee),{type:"button",variant:"outline",onClick:f[4]||(f[4]=h=>V.value=!1)},{default:d(()=>f[21]||(f[21]=[E(" Cancelar ")])),_:1}),m(l(ee),{type:"button",onClick:he,disabled:!X.value},{default:d(()=>f[22]||(f[22]=[E(" Guardar ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})]),_:1})):J("",!0)])]),_:1})]),_:1}),m(l(Yr),{open:l(n).isExpanded,"onUpdate:open":f[12]||(f[12]=h=>l(n).isExpanded=h)},{default:d(()=>[m(l(Jr),null,{default:d(()=>[m(l(lt),null,{default:d(()=>[m(l(Ir),null,{default:d(()=>[m(l(Ur),null,{default:d(()=>f[23]||(f[23]=[E("Filtros Avanzados")])),_:1}),m(l(Vr),null,{default:d(()=>f[24]||(f[24]=[E(" Construye consultas complejas combinando múltiples condiciones con operadores lógicos. ")])),_:1})]),_:1}),m(l(nt),null,{default:d(()=>[j.value.length>0?(v(),O("div",ns,[(v(!0),O(ne,null,le(j.value,(h,x)=>(v(),O("div",{key:x,class:"flex items-center gap-2 p-2 text-sm text-destructive bg-destructive/10 rounded"},[m(l(Fr),{class:"h-4 w-4"}),E(" "+L(h),1)]))),128))])):J("",!0),m(Lo,{group:l(n).rootGroup,fields:M.config.fields,level:0,"max-nesting-level":M.config.maxNestingLevel||3,"is-root":!0,"on-update-condition":(h,x)=>l(_)(h,x),"on-remove-condition":h=>l(D)(h),"on-add-condition":()=>l(u)(),"on-update-operator":h=>l(b)(l(n).rootGroup.id,h),"on-add-group":()=>l(g)(),onUpdateSubgroupCondition:f[6]||(f[6]=(h,x,U)=>l(_)(h,x,U)),onRemoveSubgroupCondition:f[7]||(f[7]=(h,x)=>l(D)(h,x)),onAddSubgroupCondition:f[8]||(f[8]=h=>l(u)(h)),onUpdateSubgroupOperator:f[9]||(f[9]=(h,x)=>l(b)(h,x)),onAddSubgroup:f[10]||(f[10]=h=>l(g)(h)),onRemoveSubgroup:f[11]||(f[11]=(h,x)=>l(p)(h,x))},null,8,["group","fields","max-nesting-level","on-update-condition","on-remove-condition","on-add-condition","on-update-operator","on-add-group"]),I("div",ls,[I("div",os,[l(s)>0?(v(),O("span",ss,L(l(s))+" condicion(es) activa(s) ",1)):(v(),O("span",is," No hay condiciones activas "))]),I("div",us,[m(l(ee),{type:"button",variant:"outline",onClick:G,disabled:l(i)||!l(c)},{default:d(()=>[m(l(Ft),{class:"h-4 w-4 mr-2"}),f[25]||(f[25]=E(" Limpiar todo "))]),_:1},8,["disabled"]),m(l(ee),{type:"button",variant:"default",onClick:z,disabled:l(i)||!l(n).hasChanges&&!M.config.autoApply},{default:d(()=>[m(l(la),{class:"h-4 w-4 mr-2"}),f[26]||(f[26]=E(" Aplicar filtros "))]),_:1},8,["disabled"])])])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l(i)?(v(),O("div",ds,[m(l(lt),{class:"shadow-lg"},{default:d(()=>[m(l(nt),{class:"p-3 flex items-center gap-2"},{default:d(()=>f[27]||(f[27]=[I("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"},null,-1),I("span",{class:"text-sm"},"Aplicando filtros...",-1)])),_:1})]),_:1})])):J("",!0)]))}});export{ro as C,Ss as _};
