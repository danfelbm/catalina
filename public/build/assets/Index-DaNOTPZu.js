import{C as P,e as L}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B5BWniUE.js";import{_ as p}from"./createLucideIcon-C3Ab61m5.js";import{_ as b,c as x}from"./index-Cmp74z6d.js";import{_ as B,a as R,b as h,c as u,d as A,e as d}from"./TableHeader.vue_vue_type_script_setup_true_lang-4AxO5XkK.js";import{_ as H,a as V,b as q,c as D,d as W,e as I,f as Q,g as G}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D3JxLxXQ.js";import{_ as J}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-Bz_1KAvD.js";import{d as y,c as K,M as O,_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-CyoQlVBv.js";import{d as X,k as Y,a as f,o,b as e,u as t,m as Z,e as s,f as i,i as $,P as _,g as a,F as v,r as C,j as k,t as m,n as ee,W as te}from"./app-7LlKm78u.js";import{_ as se}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-Dys1bkax.js";import{P as z}from"./plus-BFVd6v3P.js";import{E as re}from"./eye-mFpk8ekn.js";import{S as ae}from"./square-pen-avcIrZfD.js";import{T as le}from"./trash-2-dZG6teqx.js";import"./VisuallyHidden-BQiVCHMw.js";import"./Label.vue_vue_type_script_setup_true_lang-CNdlZ2bU.js";import"./index-BLTdg2QY.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Cne8tvjX.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-CiKhemwU.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-BjwO9EVv.js";import"./es-DfN3vIXC.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-F8a1_Xg_.js";import"./loader-circle-D_A4225e.js";import"./search-CVZYmFcN.js";import"./filter-CLKZbarQ.js";import"./history-kbZGJLIp.js";import"./save-CWAm15iC.js";const ne={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ie={class:"flex items-center justify-between"},oe={class:"flex items-center gap-2"},ue={class:"flex items-center gap-2"},de={class:"flex items-center gap-2"},fe={class:"flex items-center gap-2"},me={class:"flex items-center justify-end gap-2"},ce={key:0,class:"flex items-center justify-center space-x-2"},pe=["innerHTML"],_e={key:1,class:"text-center py-8"},ge={class:"mt-6"},We=X({__name:"Index",props:{reportes:{},filters:{},filterFieldsConfig:{}},setup(w){const S=w,E=[{title:"Admin",href:"/admin/dashboard"},{title:"Reportes de Madurez",href:"/admin/reportes-madurez"}],F={fields:S.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por empresa, ciudad, centro o área...",quickSearchFields:["empresa","ciudad","centro_trabajo","area"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},c=Y(null),M=l=>new Date(l).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),T=l=>l===0?"0%":l===100?"100%":`${l.toFixed(1)}%`,j=l=>l===0||l<30?"destructive":l<70?"default":l<100?"secondary":"default",N=()=>{c.value&&te.delete(`/admin/reportes-madurez/${c.value.id}`,{onSuccess:()=>{c.value=null}})};return(l,r)=>(o(),f(v,null,[e(t(Z),{title:"Reportes de Madurez"}),e(U,{breadcrumbs:E},{default:s(()=>[i("div",ne,[i("div",ie,[i("div",oe,[e(t(y),{class:"h-6 w-6 text-primary"}),r[2]||(r[2]=i("h1",{class:"text-2xl font-semibold"},"Reportes de Madurez",-1))]),e(t(_),{href:l.route("admin.reportes-madurez.create")},{default:s(()=>[e(t(p),null,{default:s(()=>[e(t(z),{class:"mr-2 h-4 w-4"}),r[3]||(r[3]=a(" Nuevo Reporte "))]),_:1})]),_:1},8,["href"])]),e(t(b),null,{default:s(()=>[e(t(x),{class:"pt-6"},{default:s(()=>[e(se,{config:F})]),_:1})]),_:1}),e(t(b),null,{default:s(()=>[e(t(x),{class:"p-0"},{default:s(()=>[e(t(B),null,{default:s(()=>[e(t(R),null,{default:s(()=>[e(t(h),null,{default:s(()=>[e(t(u),null,{default:s(()=>r[4]||(r[4]=[a("Empresa")])),_:1}),e(t(u),null,{default:s(()=>r[5]||(r[5]=[a("Ciudad")])),_:1}),e(t(u),null,{default:s(()=>r[6]||(r[6]=[a("Centro de Trabajo")])),_:1}),e(t(u),null,{default:s(()=>r[7]||(r[7]=[a("Área")])),_:1}),e(t(u),null,{default:s(()=>r[8]||(r[8]=[a("Fecha")])),_:1}),e(t(u),null,{default:s(()=>r[9]||(r[9]=[a("Completitud")])),_:1}),e(t(u),null,{default:s(()=>r[10]||(r[10]=[a("Creado por")])),_:1}),e(t(u),{class:"text-right"},{default:s(()=>r[11]||(r[11]=[a("Acciones")])),_:1})]),_:1})]),_:1}),e(t(A),null,{default:s(()=>[(o(!0),f(v,null,C(l.reportes.data,n=>(o(),k(t(h),{key:n.id},{default:s(()=>[e(t(d),{class:"font-medium"},{default:s(()=>[i("div",ue,[e(t(K),{class:"h-4 w-4 text-muted-foreground"}),a(" "+m(n.empresa),1)])]),_:2},1024),e(t(d),null,{default:s(()=>[i("div",de,[e(t(O),{class:"h-4 w-4 text-muted-foreground"}),a(" "+m(n.ciudad),1)])]),_:2},1024),e(t(d),null,{default:s(()=>[a(m(n.centro_trabajo),1)]),_:2},1024),e(t(d),null,{default:s(()=>[a(m(n.area),1)]),_:2},1024),e(t(d),null,{default:s(()=>[i("div",fe,[e(t(P),{class:"h-4 w-4 text-muted-foreground"}),a(" "+m(M(n.fecha_realizacion)),1)])]),_:2},1024),e(t(d),null,{default:s(()=>[e(t(L),{variant:j(n.porcentaje_completitud)},{default:s(()=>[a(m(T(n.porcentaje_completitud)),1)]),_:2},1032,["variant"])]),_:2},1024),e(t(d),{class:"text-sm text-muted-foreground"},{default:s(()=>[a(m(n.creador.name),1)]),_:2},1024),e(t(d),{class:"text-right"},{default:s(()=>[i("div",me,[e(t(_),{href:l.route("admin.reportes-madurez.show",n.id)},{default:s(()=>[e(t(p),{variant:"ghost",size:"sm"},{default:s(()=>[e(t(re),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),e(t(_),{href:l.route("admin.reportes-madurez.edit",n.id)},{default:s(()=>[e(t(p),{variant:"ghost",size:"sm"},{default:s(()=>[e(t(ae),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),e(t(H),null,{default:s(()=>[e(t(J),{"as-child":""},{default:s(()=>[e(t(p),{variant:"ghost",size:"sm",onClick:g=>c.value=n},{default:s(()=>[e(t(le),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024),e(t(V),null,{default:s(()=>[e(t(q),null,{default:s(()=>[e(t(D),null,{default:s(()=>r[12]||(r[12]=[a(" ¿Estás seguro? ")])),_:1}),e(t(W),null,{default:s(()=>r[13]||(r[13]=[a(" Esta acción no se puede deshacer. Se eliminará permanentemente el reporte de madurez y todas sus evaluaciones. ")])),_:1})]),_:1}),e(t(I),null,{default:s(()=>[e(t(Q),{onClick:r[0]||(r[0]=g=>c.value=null)},{default:s(()=>r[14]||(r[14]=[a(" Cancelar ")])),_:1}),e(t(G),{onClick:r[1]||(r[1]=g=>N())},{default:s(()=>r[15]||(r[15]=[a(" Eliminar ")])),_:1})]),_:1})]),_:1})]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),l.reportes.links?(o(),f("div",ce,[(o(!0),f(v,null,C(l.reportes.links,(n,g)=>(o(),f(v,{key:g},[n.url?(o(),k(t(_),{key:0,href:n.url,class:ee(["inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3",{"bg-primary text-primary-foreground":n.active}]),innerHTML:n.label},null,8,["href","class","innerHTML"])):(o(),f("span",{key:1,class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3 opacity-50",innerHTML:n.label},null,8,pe))],64))),128))])):$("",!0),l.reportes.data.length===0?(o(),f("div",_e,[e(t(y),{class:"mx-auto h-12 w-12 text-muted-foreground"}),r[17]||(r[17]=i("h3",{class:"mt-2 text-sm font-semibold text-gray-900"},"No hay reportes de madurez",-1)),r[18]||(r[18]=i("p",{class:"mt-1 text-sm text-muted-foreground"}," Comienza creando tu primer reporte de madurez. ",-1)),i("div",ge,[e(t(_),{href:l.route("admin.reportes-madurez.create")},{default:s(()=>[e(t(p),null,{default:s(()=>[e(t(z),{class:"mr-2 h-4 w-4"}),r[16]||(r[16]=a(" Nuevo Reporte "))]),_:1})]),_:1},8,["href"])])])):$("",!0)])]),_:1})],64))}});export{We as default};
