import{d as P,c as S,C as U,a as c,o as p,b as a,u as e,m as q,e as s,f as o,j as A,i as f,P as z,t as m,g as d,h as I,n as _,F as L}from"./app-DaeX7cdw.js";import{_ as b}from"./createLucideIcon-CjSnWMAs.js";import{_ as w,a as $,b as M,c as R}from"./index-11KoE7K9.js";import{_ as k}from"./CardDescription.vue_vue_type_script_setup_true_lang-D2c5TVWn.js";import{_ as v,a as x}from"./Label.vue_vue_type_script_setup_true_lang-CMHm9R99.js";import{c as T,M as H,B as D,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-DGUFgy7V.js";import{A as J}from"./arrow-left-CrKxkQJn.js";import{H as K}from"./house-DdGDCaOo.js";import{C as O}from"./DialogTitle.vue_vue_type_script_setup_true_lang-D_nilgK0.js";import{S as Q}from"./save-DZF9BgZ1.js";import"./index-D0dABG5H.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Cwg8ppLD.js";import"./VisuallyHidden-Dq3uFg-l.js";const W={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},X={class:"flex items-center justify-between"},Y={class:"flex items-center gap-4"},Z={class:"text-2xl font-semibold"},ee={class:"text-sm text-muted-foreground"},re={class:"space-y-2"},ae={key:0,class:"text-sm text-destructive"},te={class:"space-y-2"},se={key:0,class:"text-sm text-destructive"},oe={class:"space-y-2"},de={key:0,class:"text-sm text-destructive"},le={class:"space-y-2"},ie={key:0,class:"text-sm text-destructive"},ue={class:"space-y-2"},ne={key:0,class:"text-sm text-destructive"},me={class:"flex items-center justify-end gap-4 pt-6"},pe={class:"flex items-center gap-4"},we=P({__name:"Form",props:{reporte:{}},setup(N){var y,g,h,V,j,C;const i=N,n=S(()=>i.reporte!==null),B=[{title:"Admin",href:"/admin/dashboard"},{title:"Reportes de Madurez",href:"/admin/reportes-madurez"},{title:n.value?"Editar Reporte":"Nuevo Reporte",href:n.value?`/admin/reportes-madurez/${(y=i.reporte)==null?void 0:y.id}/edit`:"/admin/reportes-madurez/create"}],E=l=>{if(!l)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(l))return l;const r=l.split(/[T\s]/)[0];return r&&/^\d{4}-\d{2}-\d{2}$/.test(r)?r:""},t=U({empresa:((g=i.reporte)==null?void 0:g.empresa)||"",ciudad:((h=i.reporte)==null?void 0:h.ciudad)||"",centro_trabajo:((V=i.reporte)==null?void 0:V.centro_trabajo)||"",area:((j=i.reporte)==null?void 0:j.area)||"",fecha_realizacion:E((C=i.reporte)==null?void 0:C.fecha_realizacion)}),F=()=>{n.value&&i.reporte?t.put(route("admin.reportes-madurez.update",i.reporte.id),{onSuccess:()=>{}}):t.post(route("admin.reportes-madurez.store"),{onSuccess:()=>{}})};return(l,r)=>(p(),c(L,null,[a(e(q),{title:n.value?"Editar Reporte de Madurez":"Nuevo Reporte de Madurez"},null,8,["title"]),a(G,{breadcrumbs:B},{default:s(()=>[o("div",W,[o("div",X,[o("div",Y,[a(e(z),{href:l.route("admin.reportes-madurez.index")},{default:s(()=>[a(e(b),{variant:"ghost",size:"sm"},{default:s(()=>[a(e(J),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),o("div",null,[o("h1",Z,m(n.value?"Editar Reporte de Madurez":"Nuevo Reporte de Madurez"),1),o("p",ee,m(n.value?"Modifica los datos básicos del reporte":"Completa los datos básicos para crear un nuevo reporte"),1)])])]),a(e(w),null,{default:s(()=>[a(e($),null,{default:s(()=>[a(e(M),null,{default:s(()=>r[5]||(r[5]=[d("Información del Reporte")])),_:1}),a(e(k),null,{default:s(()=>r[6]||(r[6]=[d(" Los datos básicos del reporte pueden editarse en cualquier momento. La evaluación de madurez se realiza en la vista de detalle del reporte. ")])),_:1})]),_:1}),a(e(R),null,{default:s(()=>[o("form",{onSubmit:I(F,["prevent"]),class:"space-y-6"},[o("div",re,[a(e(v),{for:"empresa",class:"flex items-center gap-2"},{default:s(()=>[a(e(T),{class:"h-4 w-4"}),r[7]||(r[7]=d(" Empresa "))]),_:1}),a(e(x),{id:"empresa",modelValue:e(t).empresa,"onUpdate:modelValue":r[0]||(r[0]=u=>e(t).empresa=u),type:"text",placeholder:"Nombre de la empresa",class:_({"border-destructive":e(t).errors.empresa}),required:""},null,8,["modelValue","class"]),e(t).errors.empresa?(p(),c("p",ae,m(e(t).errors.empresa),1)):f("",!0)]),o("div",te,[a(e(v),{for:"ciudad",class:"flex items-center gap-2"},{default:s(()=>[a(e(H),{class:"h-4 w-4"}),r[8]||(r[8]=d(" Ciudad "))]),_:1}),a(e(x),{id:"ciudad",modelValue:e(t).ciudad,"onUpdate:modelValue":r[1]||(r[1]=u=>e(t).ciudad=u),type:"text",placeholder:"Ciudad donde se realiza el reporte",class:_({"border-destructive":e(t).errors.ciudad}),required:""},null,8,["modelValue","class"]),e(t).errors.ciudad?(p(),c("p",se,m(e(t).errors.ciudad),1)):f("",!0)]),o("div",oe,[a(e(v),{for:"centro_trabajo",class:"flex items-center gap-2"},{default:s(()=>[a(e(K),{class:"h-4 w-4"}),r[9]||(r[9]=d(" Centro de Trabajo "))]),_:1}),a(e(x),{id:"centro_trabajo",modelValue:e(t).centro_trabajo,"onUpdate:modelValue":r[2]||(r[2]=u=>e(t).centro_trabajo=u),type:"text",placeholder:"Centro o lugar de trabajo específico",class:_({"border-destructive":e(t).errors.centro_trabajo}),required:""},null,8,["modelValue","class"]),e(t).errors.centro_trabajo?(p(),c("p",de,m(e(t).errors.centro_trabajo),1)):f("",!0)]),o("div",le,[a(e(v),{for:"area",class:"flex items-center gap-2"},{default:s(()=>[a(e(D),{class:"h-4 w-4"}),r[10]||(r[10]=d(" Área "))]),_:1}),a(e(x),{id:"area",modelValue:e(t).area,"onUpdate:modelValue":r[3]||(r[3]=u=>e(t).area=u),type:"text",placeholder:"Área o departamento evaluado",class:_({"border-destructive":e(t).errors.area}),required:""},null,8,["modelValue","class"]),e(t).errors.area?(p(),c("p",ie,m(e(t).errors.area),1)):f("",!0)]),o("div",ue,[a(e(v),{class:"flex items-center gap-2"},{default:s(()=>[a(e(O),{class:"h-4 w-4"}),r[11]||(r[11]=d(" Fecha de Realización "))]),_:1}),a(e(x),{type:"date",modelValue:e(t).fecha_realizacion,"onUpdate:modelValue":r[4]||(r[4]=u=>e(t).fecha_realizacion=u),class:_({"border-destructive":e(t).errors.fecha_realizacion})},null,8,["modelValue","class"]),e(t).errors.fecha_realizacion?(p(),c("p",ne,m(e(t).errors.fecha_realizacion),1)):f("",!0)]),o("div",me,[a(e(z),{href:l.route("admin.reportes-madurez.index")},{default:s(()=>[a(e(b),{variant:"outline",type:"button"},{default:s(()=>r[12]||(r[12]=[d(" Cancelar ")])),_:1})]),_:1},8,["href"]),a(e(b),{type:"submit",disabled:e(t).processing},{default:s(()=>[a(e(Q),{class:"mr-2 h-4 w-4"}),d(" "+m(n.value?"Actualizar":"Crear")+" Reporte ",1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}),n.value&&l.reporte?(p(),A(e(w),{key:0},{default:s(()=>[a(e($),null,{default:s(()=>[a(e(M),null,{default:s(()=>r[13]||(r[13]=[d("Próximos Pasos")])),_:1}),a(e(k),null,{default:s(()=>r[14]||(r[14]=[d(" Una vez guardados los cambios, puedes proceder a evaluar la madurez. ")])),_:1})]),_:1}),a(e(R),null,{default:s(()=>[o("div",pe,[a(e(z),{href:l.route("admin.reportes-madurez.show",l.reporte.id)},{default:s(()=>[a(e(b),{variant:"secondary"},{default:s(()=>r[15]||(r[15]=[d(" Ir a Evaluación de Madurez ")])),_:1})]),_:1},8,["href"]),r[16]||(r[16]=o("p",{class:"text-sm text-muted-foreground"}," Accede a la matriz de evaluación y estadísticas del reporte ",-1))])]),_:1})]),_:1})):f("",!0)])]),_:1})],64))}});export{we as default};
